<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Hubzero-cms Api Documentation » \Sanitizer</title>
<meta name="author" content="Guocheng Wei">
<meta name="description" content="Api Documentation for HUBzero framework">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="icon" type="image/png" href="../img/favicon-16x16.png">
<link rel="icon" type="image/png" href="../img/favicon-32x32.png">
<link rel="icon" type="image/png" href="../img/favicon-96x96.png">
<link rel="apple-touch-icon" sizes="57x57" href="../img/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../img/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../img/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../img/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../img/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../img/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../img/apple-icon-180x180.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Hubzero-cms Api Documentation</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/Components.html"><i class="icon-th"></i> Components</a></li>
<li><a href="../namespaces/Cron.html"><i class="icon-th"></i> Cron</a></li>
<li><a href="../namespaces/Hubzero.html"><i class="icon-th"></i> Hubzero</a></li>
<li><a href="../namespaces/Maknz.html"><i class="icon-th"></i> Maknz</a></li>
<li><a href="../namespaces/Modules.html"><i class="icon-th"></i> Modules</a></li>
<li><a href="../namespaces/Plugins.html"><i class="icon-th"></i> Plugins</a></li>
<li><a href="../namespaces/SciStarter.html"><i class="icon-th"></i> SciStarter</a></li>
<li><a href="../namespaces/TwitterFeed.html"><i class="icon-th"></i> TwitterFeed</a></li>
<li><a href="../namespaces/global.html"><i class="icon-th"></i> global</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Dataviewer%20::%20Data%20Definition%20Converter.html"><i class="icon-folder-open"></i> Dataviewer :: Data Definition Converter</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/Diff.html"><i class="icon-folder-open"></i> Diff</a></li>
<li><a href="../packages/DiffLib.html"><i class="icon-folder-open"></i> DiffLib</a></li>
<li><a href="../packages/HUBzero.html"><i class="icon-folder-open"></i> HUBzero</a></li>
<li><a href="../packages/HUBzero%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CMS.html"><i class="icon-folder-open"></i> HUBzero                                  CMS</a></li>
<li><a href="../packages/Hubzero.html"><i class="icon-folder-open"></i> Hubzero</a></li>
<li><a href="../packages/Joomla.html"><i class="icon-folder-open"></i> Joomla</a></li>
<li><a href="../packages/Joomla.Administrator.html"><i class="icon-folder-open"></i> Joomla.Administrator</a></li>
<li><a href="../packages/Joomla.Plugin.html"><i class="icon-folder-open"></i> Joomla.Plugin</a></li>
<li><a href="../packages/Joomla.Site.html"><i class="icon-folder-open"></i> Joomla.Site</a></li>
<li><a href="../packages/MathRenderer.html"><i class="icon-folder-open"></i> MathRenderer</a></li>
<li><a href="../packages/PEAR.html"><i class="icon-folder-open"></i> PEAR</a></li>
<li><a href="../packages/SpamAssassin_Client.html"><i class="icon-folder-open"></i> SpamAssassin_Client</a></li>
<li><a href="../packages/Structures_BibTex.html"><i class="icon-folder-open"></i> Structures_BibTex</a></li>
<li><a href="../packages/akismet.html"><i class="icon-folder-open"></i> akismet</a></li>
<li><a href="../packages/framework.html"><i class="icon-folder-open"></i> framework</a></li>
<li><a href="../packages/geshi.html"><i class="icon-folder-open"></i> geshi</a></li>
<li><a href="../packages/hubzero-cms.html"><i class="icon-folder-open"></i> hubzero-cms</a></li>
<li><a href="../packages/hubzero.cms.admin.html"><i class="icon-folder-open"></i> hubzero.cms.admin</a></li>
<li><a href="../packages/hubzero.cms.site.html"><i class="icon-folder-open"></i> hubzero.cms.site</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">6184</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">3585</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div xmlns:php="http://php.net/xsl" class="btn-toolbar">
<div class="btn-group visibility" data-toggle="buttons-checkbox">
<button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited" title="Show inherited elements">Inherited</button>
</div>
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
</div>
<ul xmlns:php="http://php.net/xsl" class="side-nav nav nav-list">
<li class="nav-header">
<i title="Methods" class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_attributeWhitelist" title="attributeWhitelist() :: Fetch the whitelist of acceptable attributes for a given
element name."><span class="description">Fetch the whitelist of acceptable attributes for a given
element name.</span><pre>attributeWhitelist()</pre></a></li>
<li class="method public "><a href="#method_checkCss" title="checkCss() :: Pick apart some CSS and check it for forbidden or unsafe structures."><span class="description">Pick apart some CSS and check it for forbidden or unsafe structures.</span><pre>checkCss()</pre></a></li>
<li class="method public "><a href="#method_cleanUrl" title="cleanUrl() :: Short description for 'cleanUrl'"><span class="description">Short description for 'cleanUrl'</span><pre>cleanUrl()</pre></a></li>
<li class="method public "><a href="#method_decCharReference" title="decCharReference() :: Short description for 'decCharReference'"><span class="description">Short description for 'decCharReference'</span><pre>decCharReference()</pre></a></li>
<li class="method public "><a href="#method_decodeChar" title="decodeChar() :: Return UTF-8 string for a codepoint if that is a valid
character reference, otherwise U+FFFD REPLACEMENT CHARACTER."><span class="description">Return UTF-8 string for a codepoint if that is a valid
character reference, otherwise U+FFFD REPLACEMENT CHARACTER.</span><pre>decodeChar()</pre></a></li>
<li class="method public "><a href="#method_decodeCharReferences" title="decodeCharReferences() :: Decode any character references, numeric or named entities,
in the text and return a UTF-8 string."><span class="description">Decode any character references, numeric or named entities,
in the text and return a UTF-8 string.</span><pre>decodeCharReferences()</pre></a></li>
<li class="method public "><a href="#method_decodeCharReferencesCallback" title="decodeCharReferencesCallback() :: "><span class="description">decodeCharReferencesCallback()
        </span><pre>decodeCharReferencesCallback()</pre></a></li>
<li class="method public "><a href="#method_decodeEntity" title="decodeEntity() :: If the named entity is defined in the HTML 4.0/XHTML 1.0 DTD,
return the UTF-8 encoding of that character. Otherwise, returns
pseudo-entity source (eg &amp;foo;)"><span class="description">If the named entity is defined in the HTML 4.0/XHTML 1.0 DTD,
return the UTF-8 encoding of that character. Otherwise, returns
pseudo-entity source (eg &amp;foo;)</span><pre>decodeEntity()</pre></a></li>
<li class="method public "><a href="#method_decodeTagAttributes" title="decodeTagAttributes() :: Return an associative array of attribute names and values from
a partial tag string. Attribute names are forces to lowercase,
character references are decoded to UTF-8 text."><span class="description">Return an associative array of attribute names and values from
a partial tag string. Attribute names are forces to lowercase,
character references are decoded to UTF-8 text.</span><pre>decodeTagAttributes()</pre></a></li>
<li class="method public "><a href="#method_encodeAttribute" title="encodeAttribute() :: Encode an attribute value for HTML output."><span class="description">Encode an attribute value for HTML output.</span><pre>encodeAttribute()</pre></a></li>
<li class="method public "><a href="#method_escapeClass" title="escapeClass() :: Given a value, escape it so that it can be used as a CSS class and
return it."><span class="description">Given a value, escape it so that it can be used as a CSS class and
return it.</span><pre>escapeClass()</pre></a></li>
<li class="method public "><a href="#method_escapeId" title="escapeId() :: Given a value escape it so that it can be used in an id attribute and
return it, this does not validate the value however (see first link)"><span class="description">Given a value escape it so that it can be used in an id attribute and
return it, this does not validate the value however (see first link)</span><pre>escapeId()</pre></a></li>
<li class="method public "><a href="#method_fixTagAttributes" title="fixTagAttributes() :: Take a tag soup fragment listing an HTML element's attributes
and normalize it to well-formed XML, discarding unwanted attributes."><span class="description">Take a tag soup fragment listing an HTML element's attributes
and normalize it to well-formed XML, discarding unwanted attributes.</span><pre>fixTagAttributes()</pre></a></li>
<li class="method public "><a href="#method_hackDocType" title="hackDocType() :: Hack up a private DOCTYPE with HTML's standard entity declarations."><span class="description">Hack up a private DOCTYPE with HTML's standard entity declarations.</span><pre>hackDocType()</pre></a></li>
<li class="method public "><a href="#method_hexCharReference" title="hexCharReference() :: Short description for 'hexCharReference'"><span class="description">Short description for 'hexCharReference'</span><pre>hexCharReference()</pre></a></li>
<li class="method public "><a href="#method_mergeAttributes" title="mergeAttributes() :: Merge two sets of HTML attributes."><span class="description">Merge two sets of HTML attributes.</span><pre>mergeAttributes()</pre></a></li>
<li class="method public "><a href="#method_normalizeCharReferences" title="normalizeCharReferences() :: Ensure that any entities and character references are legal
for XML and XHTML specifically. Any stray bits will be
&amp;amp;-escaped to result in a valid text fragment."><span class="description">Ensure that any entities and character references are legal
for XML and XHTML specifically. Any stray bits will be
&amp;amp;-escaped to result in a valid text fragment.</span><pre>normalizeCharReferences()</pre></a></li>
<li class="method public "><a href="#method_normalizeCharReferencesCallback" title="normalizeCharReferencesCallback() :: "><span class="description">normalizeCharReferencesCallback()
        </span><pre>normalizeCharReferencesCallback()</pre></a></li>
<li class="method public "><a href="#method_normalizeEntity" title="normalizeEntity() :: If the named entity is defined in the HTML 4.0/XHTML 1.0 DTD,
return the named entity reference as is. If the entity is a
MediaWiki-specific alias, returns the HTML equivalent. Otherwise,
returns HTML-escaped text of pseudo-entity source (eg &amp;amp;foo;)"><span class="description">If the named entity is defined in the HTML 4.0/XHTML 1.0 DTD,
return the named entity reference as is. If the entity is a
MediaWiki-specific alias, returns the HTML equivalent. Otherwise,
returns HTML-escaped text of pseudo-entity source (eg &amp;amp;foo;)</span><pre>normalizeEntity()</pre></a></li>
<li class="method public "><a href="#method_removeHTMLcomments" title="removeHTMLcomments() :: Remove '<!--', '-->', and everything between."><span class="description">Remove '&lt;!--', '--&gt;', and everything between.</span><pre>removeHTMLcomments()</pre></a></li>
<li class="method public "><a href="#method_removeHTMLtags" title="removeHTMLtags() :: Cleans up HTML, removes dangerous tags and attributes, and
removes HTML comments"><span class="description">Cleans up HTML, removes dangerous tags and attributes, and
removes HTML comments</span><pre>removeHTMLtags()</pre></a></li>
<li class="method public "><a href="#method_safeEncodeAttribute" title="safeEncodeAttribute() :: Encode an attribute value for HTML tags, with extra armoring
against further wiki processing."><span class="description">Encode an attribute value for HTML tags, with extra armoring
against further wiki processing.</span><pre>safeEncodeAttribute()</pre></a></li>
<li class="method public "><a href="#method_setupAttributeWhitelist" title="setupAttributeWhitelist() :: "><span class="description">setupAttributeWhitelist()
        </span><pre>setupAttributeWhitelist()</pre></a></li>
<li class="method public "><a href="#method_stripAllTags" title="stripAllTags() :: Take a fragment of (potentially invalid) HTML and return
a version with any tags removed, encoded as plain text."><span class="description">Take a fragment of (potentially invalid) HTML and return
a version with any tags removed, encoded as plain text.</span><pre>stripAllTags()</pre></a></li>
<li class="method public "><a href="#method_validateAttributes" title="validateAttributes() :: Take an array of attribute names and values and normalize or discard
illegal values for the given whitelist."><span class="description">Take an array of attribute names and values and normalize or discard
illegal values for the given whitelist.</span><pre>validateAttributes()</pre></a></li>
<li class="method public "><a href="#method_validateTagAttributes" title="validateTagAttributes() :: Take an array of attribute names and values and normalize or discard
illegal values for the given element type."><span class="description">Take an array of attribute names and values and normalize or discard
illegal values for the given element type.</span><pre>validateTagAttributes()</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="method private "><a href="#method_armorLinksCallback" title="armorLinksCallback() :: Regex replace callback for armoring links against further processing."><span class="description">Regex replace callback for armoring links against further processing.</span><pre>armorLinksCallback()</pre></a></li>
<li class="method private "><a href="#method_getTagAttributeCallback" title="getTagAttributeCallback() :: Pick the appropriate attribute value from a match set from the
MW_ATTRIBS_REGEX matches."><span class="description">Pick the appropriate attribute value from a match set from the
MW_ATTRIBS_REGEX matches.</span><pre>getTagAttributeCallback()</pre></a></li>
<li class="method private "><a href="#method_normalizeAttributeValue" title="normalizeAttributeValue() :: Normalize whitespace and character references in an XML source-
encoded text for an attribute value."><span class="description">Normalize whitespace and character references in an XML source-
encoded text for an attribute value.</span><pre>normalizeAttributeValue()</pre></a></li>
<li class="method private "><a href="#method_normalizeWhitespace" title="normalizeWhitespace() :: Short description for 'normalizeWhitespace'"><span class="description">Short description for 'normalizeWhitespace'</span><pre>normalizeWhitespace()</pre></a></li>
<li class="method private "><a href="#method_validateCodepoint" title="validateCodepoint() :: Returns true if a given Unicode codepoint is a valid character in XML."><span class="description">Returns true if a given Unicode codepoint is a valid character in XML.</span><pre>validateCodepoint()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i title="Constants" class="icon-custom icon-constant"></i> Constants
                    <ul>
<li class="constant  "><a href="#constant_INITIAL_NONLETTER" title="INITIAL_NONLETTER() :: Description for 'NITIAL_NONLETTER'"><span class="description">Description for 'NITIAL_NONLETTER'</span><pre>INITIAL_NONLETTER</pre></a></li>
<li class="constant  "><a href="#constant_NONE" title="NONE() :: Description for 'ONE'"><span class="description">Description for 'ONE'</span><pre>NONE</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a xmlns:php="http://php.net/xsl" id="\Sanitizer"></a><ul xmlns:php="http://php.net/xsl" class="breadcrumb">
<li>
<a href="../index.html"><i title="Classes" class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/Sanitizer.html">Sanitizer</a>
</li>
</ul>
<div xmlns:php="http://php.net/xsl" class="element class">
<p class="short_description">XHTML sanitizer for MediaWiki</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>addtogroup</th>
<td>Parser</td>
</tr>
<tr>
<th>package</th>
<td><a href="../packages/hubzero-cms.html">hubzero-cms</a></td>
</tr>
</table>
<h3>
<i title="Methods" class="icon-custom icon-method"></i> Methods</h3>
<a id="method_attributeWhitelist"></a><div class="element clickable method public method_attributeWhitelist " data-toggle="collapse" data-target=".method_attributeWhitelist .collapse" title="public">
<h2>Fetch the whitelist of acceptable attributes for a given
element name.</h2>
<pre>attributeWhitelist(string $element) : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$element</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_checkCss"></a><div class="element clickable method public method_checkCss " data-toggle="collapse" data-target=".method_checkCss .collapse" title="public">
<h2>Pick apart some CSS and check it for forbidden or unsafe structures.</h2>
<pre>checkCss(string $value) : mixed</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Returns a sanitized string, or false if it was just too evil.</p>
<p>Currently URL references, 'expression', 'tps' are forbidden.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$value</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_cleanUrl"></a><div class="element clickable method public method_cleanUrl " data-toggle="collapse" data-target=".method_cleanUrl .collapse" title="public">
<h2>Short description for 'cleanUrl'</h2>
<pre>cleanUrl(\unknown $url, boolean $hostname<code> = true</code>) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Long description (if any) ...</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$url</h4>
<code>\unknown</code><p>Parameter description (if any) ...</p></div>
<div class="subelement argument">
<h4>$hostname</h4>
<code>boolean</code><p>Parameter description (if any) ...</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Return description (if any) ...</div>
</div></div>
</div>
<a id="method_decCharReference"></a><div class="element clickable method public method_decCharReference " data-toggle="collapse" data-target=".method_decCharReference .collapse" title="public">
<h2>Short description for 'decCharReference'</h2>
<pre>decCharReference(\unknown $codepoint) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Long description (if any) ...</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$codepoint</h4>
<code>\unknown</code><p>Parameter description (if any) ...</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Return description (if any) ...</div>
</div></div>
</div>
<a id="method_decodeChar"></a><div class="element clickable method public method_decodeChar " data-toggle="collapse" data-target=".method_decodeChar .collapse" title="public">
<h2>Return UTF-8 string for a codepoint if that is a valid
character reference, otherwise U+FFFD REPLACEMENT CHARACTER.</h2>
<pre>decodeChar(integer $codepoint) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>private</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$codepoint</h4>
<code>integer</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_decodeCharReferences"></a><div class="element clickable method public method_decodeCharReferences " data-toggle="collapse" data-target=".method_decodeCharReferences .collapse" title="public">
<h2>Decode any character references, numeric or named entities,
in the text and return a UTF-8 string.</h2>
<pre>decodeCharReferences(string $text) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>public</th>
<td></td>
</tr>
<tr>
<th>static</th>
<td></td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_decodeCharReferencesCallback"></a><div class="element clickable method public method_decodeCharReferencesCallback " data-toggle="collapse" data-target=".method_decodeCharReferencesCallback .collapse" title="public">
<h2>decodeCharReferencesCallback()
        </h2>
<pre>decodeCharReferencesCallback(string $matches) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$matches</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_decodeEntity"></a><div class="element clickable method public method_decodeEntity " data-toggle="collapse" data-target=".method_decodeEntity .collapse" title="public">
<h2>If the named entity is defined in the HTML 4.0/XHTML 1.0 DTD,
return the UTF-8 encoding of that character. Otherwise, returns
pseudo-entity source (eg &amp;foo;)</h2>
<pre>decodeEntity(string $name) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$name</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_decodeTagAttributes"></a><div class="element clickable method public method_decodeTagAttributes " data-toggle="collapse" data-target=".method_decodeTagAttributes .collapse" title="public">
<h2>Return an associative array of attribute names and values from
a partial tag string. Attribute names are forces to lowercase,
character references are decoded to UTF-8 text.</h2>
<pre>decodeTagAttributes(string $text) : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_encodeAttribute"></a><div class="element clickable method public method_encodeAttribute " data-toggle="collapse" data-target=".method_encodeAttribute .collapse" title="public">
<h2>Encode an attribute value for HTML output.</h2>
<pre>encodeAttribute($text) : \HTML-encoded</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$text</h4></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\HTML-encoded</code>text fragment</div>
</div></div>
</div>
<a id="method_escapeClass"></a><div class="element clickable method public method_escapeClass " data-toggle="collapse" data-target=".method_escapeClass .collapse" title="public">
<h2>Given a value, escape it so that it can be used as a CSS class and
return it.</h2>
<pre>escapeClass(string $class) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>todo</th>
<td>For extra validity, input should be validated UTF-8.</td>
</tr>
<tr>
<th>see</th>
<td><a href="http://www.w3.org/TR/CSS21/syndata.html">Valid characters/format</a></td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$class</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_escapeId"></a><div class="element clickable method public method_escapeId " data-toggle="collapse" data-target=".method_escapeId .collapse" title="public">
<h2>Given a value escape it so that it can be used in an id attribute and
return it, this does not validate the value however (see first link)</h2>
<pre>escapeId(string $id, integer $flags<code> = \Sanitizer::INITIAL_NONLETTER</code>) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>see</th>
<td><a href="http://www.w3.org/TR/html401/types.html#type-name">Valid characters
                                                         in the id and
                                                         name attributes</a></td>
</tr>
<tr>
<th>see</th>
<td><a href="http://www.w3.org/TR/html401/struct/links.html#h-12.2.3">Anchors with the id attribute</a></td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$id</h4>
<code>string</code><p>Id to validate</p></div>
<div class="subelement argument">
<h4>$flags</h4>
<code>integer</code><p>Currently only two values: Sanitizer::INITIAL_NONLETTER
(default) permits initial non-letter characters,
such as if you're adding a prefix to them.
Sanitizer::NONE will prepend an 'x' if the id
would otherwise start with a nonletter.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_fixTagAttributes"></a><div class="element clickable method public method_fixTagAttributes " data-toggle="collapse" data-target=".method_fixTagAttributes .collapse" title="public">
<h2>Take a tag soup fragment listing an HTML element's attributes
and normalize it to well-formed XML, discarding unwanted attributes.</h2>
<pre>fixTagAttributes(string $text, string $element) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Output is safe for further wikitext processing, with escaping of
values that could trigger problems.</p>
<ul>
<li>Normalizes attribute names to lowercase</li>
<li>Discards attributes not on a whitelist for the given element</li>
<li>Turns broken or invalid entities into plaintext</li>
<li>Double-quotes all attribute values</li>
<li>Attributes without values are given the name as attribute</li>
<li>Double attributes are discarded</li>
<li>Unsafe style attributes are discarded</li>
<li>Prepends space if there are attributes.</li>
</ul></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$element</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_hackDocType"></a><div class="element clickable method public method_hackDocType " data-toggle="collapse" data-target=".method_hackDocType .collapse" title="public">
<h2>Hack up a private DOCTYPE with HTML's standard entity declarations.</h2>
<pre>hackDocType() : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>PHP 4 seemed to know these if you gave it an HTML doctype, but
PHP 5.1 doesn't.</p>
<p>Use for passing XHTML fragments to PHP's XML parsing functions</p></div>
<table class="table table-bordered"><tr>
<th>static</th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_hexCharReference"></a><div class="element clickable method public method_hexCharReference " data-toggle="collapse" data-target=".method_hexCharReference .collapse" title="public">
<h2>Short description for 'hexCharReference'</h2>
<pre>hexCharReference(\unknown $codepoint) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Long description (if any) ...</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$codepoint</h4>
<code>\unknown</code><p>Parameter description (if any) ...</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Return description (if any) ...</div>
</div></div>
</div>
<a id="method_mergeAttributes"></a><div class="element clickable method public method_mergeAttributes " data-toggle="collapse" data-target=".method_mergeAttributes .collapse" title="public">
<h2>Merge two sets of HTML attributes.</h2>
<pre>mergeAttributes(array $a, array $b) : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Conflicting items in the second set will override those
in the first, except for 'class' attributes which will be
combined.</p></div>
<table class="table table-bordered"><tr>
<th>todo</th>
<td>implement merging for other attributes such as style</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$a</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$b</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_normalizeCharReferences"></a><div class="element clickable method public method_normalizeCharReferences " data-toggle="collapse" data-target=".method_normalizeCharReferences .collapse" title="public">
<h2>Ensure that any entities and character references are legal
for XML and XHTML specifically. Any stray bits will be
&amp;amp;-escaped to result in a valid text fragment.</h2>
<pre>normalizeCharReferences(string $text) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>a. any named char refs must be known in XHTML
b. any numeric char refs must be legal chars, not invalid or forbidden
c. use &amp;#x, not &amp;#X
d. fix or reject non-valid attributes</p></div>
<table class="table table-bordered"><tr>
<th>private</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_normalizeCharReferencesCallback"></a><div class="element clickable method public method_normalizeCharReferencesCallback " data-toggle="collapse" data-target=".method_normalizeCharReferencesCallback .collapse" title="public">
<h2>normalizeCharReferencesCallback()
        </h2>
<pre>normalizeCharReferencesCallback(string $matches) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$matches</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_normalizeEntity"></a><div class="element clickable method public method_normalizeEntity " data-toggle="collapse" data-target=".method_normalizeEntity .collapse" title="public">
<h2>If the named entity is defined in the HTML 4.0/XHTML 1.0 DTD,
return the named entity reference as is. If the entity is a
MediaWiki-specific alias, returns the HTML equivalent. Otherwise,
returns HTML-escaped text of pseudo-entity source (eg &amp;amp;foo;)</h2>
<pre>normalizeEntity(string $name) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>static</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$name</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_removeHTMLcomments"></a><div class="element clickable method public method_removeHTMLcomments " data-toggle="collapse" data-target=".method_removeHTMLcomments .collapse" title="public">
<h2>Remove '&lt;!--', '--&gt;', and everything between.</h2>
<pre>removeHTMLcomments(string $text) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>To avoid leaving blank lines, when a comment is both preceded
and followed by a newline (ignoring spaces), trim leading and
trailing spaces and one of the newlines.</p></div>
<table class="table table-bordered"><tr>
<th>private</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_removeHTMLtags"></a><div class="element clickable method public method_removeHTMLtags " data-toggle="collapse" data-target=".method_removeHTMLtags .collapse" title="public">
<h2>Cleans up HTML, removes dangerous tags and attributes, and
removes HTML comments</h2>
<pre>removeHTMLtags(string $text, callback $processCallback<code> = null</code>, array $args<code> = array()</code>, $extratags<code> = array()</code>) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>private</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$processCallback</h4>
<code>callback</code><p>to do any variable or parameter replacements in HTML attribute values</p></div>
<div class="subelement argument">
<h4>$args</h4>
<code>array</code><p>for the processing callback</p></div>
<div class="subelement argument"><h4>$extratags</h4></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_safeEncodeAttribute"></a><div class="element clickable method public method_safeEncodeAttribute " data-toggle="collapse" data-target=".method_safeEncodeAttribute .collapse" title="public">
<h2>Encode an attribute value for HTML tags, with extra armoring
against further wiki processing.</h2>
<pre>safeEncodeAttribute($text) : \HTML-encoded</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$text</h4></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\HTML-encoded</code>text fragment</div>
</div></div>
</div>
<a id="method_setupAttributeWhitelist"></a><div class="element clickable method public method_setupAttributeWhitelist " data-toggle="collapse" data-target=".method_setupAttributeWhitelist .collapse" title="public">
<h2>setupAttributeWhitelist()
        </h2>
<pre>setupAttributeWhitelist() : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>todo</th>
<td>Document it a bit</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_stripAllTags"></a><div class="element clickable method public method_stripAllTags " data-toggle="collapse" data-target=".method_stripAllTags .collapse" title="public">
<h2>Take a fragment of (potentially invalid) HTML and return
a version with any tags removed, encoded as plain text.</h2>
<pre>stripAllTags(string $text) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Warning: this return value must be further escaped for literal
inclusion in HTML output as of 1.10!</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code><p>HTML fragment</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_validateAttributes"></a><div class="element clickable method public method_validateAttributes " data-toggle="collapse" data-target=".method_validateAttributes .collapse" title="public">
<h2>Take an array of attribute names and values and normalize or discard
illegal values for the given whitelist.</h2>
<pre>validateAttributes(array $attribs, array $whitelist) : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><ul>
<li>Discards attributes not the given whitelist</li>
<li>Unsafe style attributes are discarded</li>
<li>Invalid id attributes are reencoded</li>
</ul></div>
<table class="table table-bordered">
<tr>
<th>todo</th>
<td>Check for legal values where the DTD limits things.</td>
</tr>
<tr>
<th>todo</th>
<td>Check for unique id attribute :P</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$attribs</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$whitelist</h4>
<code>array</code><p>list of allowed attribute names</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_validateTagAttributes"></a><div class="element clickable method public method_validateTagAttributes " data-toggle="collapse" data-target=".method_validateTagAttributes .collapse" title="public">
<h2>Take an array of attribute names and values and normalize or discard
illegal values for the given element type.</h2>
<pre>validateTagAttributes(array $attribs, string $element) : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><ul>
<li>Discards attributes not on a whitelist for the given element</li>
<li>Unsafe style attributes are discarded</li>
<li>Invalid id attributes are reencoded</li>
</ul></div>
<table class="table table-bordered">
<tr>
<th>todo</th>
<td>Check for legal values where the DTD limits things.</td>
</tr>
<tr>
<th>todo</th>
<td>Check for unique id attribute :P</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$attribs</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$element</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_armorLinksCallback"></a><div class="element clickable method private method_armorLinksCallback " data-toggle="collapse" data-target=".method_armorLinksCallback .collapse" title="private">
<h2>Regex replace callback for armoring links against further processing.</h2>
<pre>armorLinksCallback(array $matches) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>private</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$matches</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_getTagAttributeCallback"></a><div class="element clickable method private method_getTagAttributeCallback " data-toggle="collapse" data-target=".method_getTagAttributeCallback .collapse" title="private">
<h2>Pick the appropriate attribute value from a match set from the
MW_ATTRIBS_REGEX matches.</h2>
<pre>getTagAttributeCallback(array $set) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>private</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$set</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_normalizeAttributeValue"></a><div class="element clickable method private method_normalizeAttributeValue " data-toggle="collapse" data-target=".method_normalizeAttributeValue .collapse" title="private">
<h2>Normalize whitespace and character references in an XML source-
encoded text for an attribute value.</h2>
<pre>normalizeAttributeValue(string $text) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>See <a href="http://www.w3.org/TR/REC-xml/#AVNormalize">http://www.w3.org/TR/REC-xml/#AVNormalize</a> for background,
but note that we're not returning the value, but are returning
XML source fragments that will be slapped into output.</p></div>
<table class="table table-bordered"><tr>
<th>private</th>
<td></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_normalizeWhitespace"></a><div class="element clickable method private method_normalizeWhitespace " data-toggle="collapse" data-target=".method_normalizeWhitespace .collapse" title="private">
<h2>Short description for 'normalizeWhitespace'</h2>
<pre>normalizeWhitespace(\unknown $text) : string</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Long description (if any) ...</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$text</h4>
<code>\unknown</code><p>Parameter description (if any) ...</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Return description (if any) ...</div>
</div></div>
</div>
<a id="method_validateCodepoint"></a><div class="element clickable method private method_validateCodepoint " data-toggle="collapse" data-target=".method_validateCodepoint .collapse" title="private">
<h2>Returns true if a given Unicode codepoint is a valid character in XML.</h2>
<pre>validateCodepoint(integer $codepoint) : boolean</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$codepoint</h4>
<code>integer</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<h3>
<i title="Constants" class="icon-custom icon-constant"></i> Constants</h3>
<a id="constant_INITIAL_NONLETTER"> </a><div class="element clickable constant  constant_INITIAL_NONLETTER" data-toggle="collapse" data-target=".constant_INITIAL_NONLETTER .collapse" title="">
<h2>Description for 'NITIAL_NONLETTER'</h2>
<pre>INITIAL_NONLETTER = 1 </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="constant_NONE"> </a><div class="element clickable constant  constant_NONE" data-toggle="collapse" data-target=".constant_NONE .collapse" title="">
<h2>Description for 'ONE'</h2>
<pre>NONE = 0 </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12" style="text-align: center;">
			Created by <a href="https://wei170.github.io">Guocheng Wei</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.8.5</a> and<br>
            generated on 2017-05-22T16:53:32-04:00.<br></footer></div>
</div>
</body>
</html>
