<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Hubzero-cms Api Documentation » \Components\Cart\Models\CurrentCart</title>
<meta name="author" content="Guocheng Wei">
<meta name="description" content="Api Documentation for HUBzero framework">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="icon" type="image/png" href="../img/favicon-16x16.png">
<link rel="icon" type="image/png" href="../img/favicon-32x32.png">
<link rel="icon" type="image/png" href="../img/favicon-96x96.png">
<link rel="apple-touch-icon" sizes="57x57" href="../img/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../img/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../img/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../img/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../img/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../img/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../img/apple-icon-180x180.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Hubzero-cms Api Documentation</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/Components.html"><i class="icon-th"></i> Components</a></li>
<li><a href="../namespaces/Cron.html"><i class="icon-th"></i> Cron</a></li>
<li><a href="../namespaces/Hubzero.html"><i class="icon-th"></i> Hubzero</a></li>
<li><a href="../namespaces/Maknz.html"><i class="icon-th"></i> Maknz</a></li>
<li><a href="../namespaces/Modules.html"><i class="icon-th"></i> Modules</a></li>
<li><a href="../namespaces/Plugins.html"><i class="icon-th"></i> Plugins</a></li>
<li><a href="../namespaces/SciStarter.html"><i class="icon-th"></i> SciStarter</a></li>
<li><a href="../namespaces/TwitterFeed.html"><i class="icon-th"></i> TwitterFeed</a></li>
<li><a href="../namespaces/global.html"><i class="icon-th"></i> global</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Dataviewer%20::%20Data%20Definition%20Converter.html"><i class="icon-folder-open"></i> Dataviewer :: Data Definition Converter</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/Diff.html"><i class="icon-folder-open"></i> Diff</a></li>
<li><a href="../packages/DiffLib.html"><i class="icon-folder-open"></i> DiffLib</a></li>
<li><a href="../packages/HUBzero.html"><i class="icon-folder-open"></i> HUBzero</a></li>
<li><a href="../packages/HUBzero%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CMS.html"><i class="icon-folder-open"></i> HUBzero                                  CMS</a></li>
<li><a href="../packages/Hubzero.html"><i class="icon-folder-open"></i> Hubzero</a></li>
<li><a href="../packages/Joomla.html"><i class="icon-folder-open"></i> Joomla</a></li>
<li><a href="../packages/Joomla.Administrator.html"><i class="icon-folder-open"></i> Joomla.Administrator</a></li>
<li><a href="../packages/Joomla.Plugin.html"><i class="icon-folder-open"></i> Joomla.Plugin</a></li>
<li><a href="../packages/Joomla.Site.html"><i class="icon-folder-open"></i> Joomla.Site</a></li>
<li><a href="../packages/MathRenderer.html"><i class="icon-folder-open"></i> MathRenderer</a></li>
<li><a href="../packages/PEAR.html"><i class="icon-folder-open"></i> PEAR</a></li>
<li><a href="../packages/SpamAssassin_Client.html"><i class="icon-folder-open"></i> SpamAssassin_Client</a></li>
<li><a href="../packages/Structures_BibTex.html"><i class="icon-folder-open"></i> Structures_BibTex</a></li>
<li><a href="../packages/akismet.html"><i class="icon-folder-open"></i> akismet</a></li>
<li><a href="../packages/framework.html"><i class="icon-folder-open"></i> framework</a></li>
<li><a href="../packages/geshi.html"><i class="icon-folder-open"></i> geshi</a></li>
<li><a href="../packages/hubzero-cms.html"><i class="icon-folder-open"></i> hubzero-cms</a></li>
<li><a href="../packages/hubzero.cms.admin.html"><i class="icon-folder-open"></i> hubzero.cms.admin</a></li>
<li><a href="../packages/hubzero.cms.site.html"><i class="icon-folder-open"></i> hubzero.cms.site</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">6184</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">3585</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div xmlns:php="http://php.net/xsl" class="btn-toolbar">
<div class="btn-group visibility" data-toggle="buttons-checkbox">
<button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited" title="Show inherited elements">Inherited</button>
</div>
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
</div>
<ul xmlns:php="http://php.net/xsl" class="side-nav nav nav-list">
<li class="nav-header">
<i title="Methods" class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method___construct" title="__construct() :: Cart constructor"><span class="description">Cart constructor</span><pre>__construct()</pre></a></li>
<li class="method public inherited"><a href="#method___construct" title="__construct() :: Cart constructor"><span class="description">Cart constructor</span><pre>__construct()</pre></a></li>
<li class="method public "><a href="#method_add" title="add() :: Add SKU to cart"><span class="description">Add SKU to cart</span><pre>add()</pre></a></li>
<li class="method public inherited"><a href="#method_add" title="add() :: Add SKU to cart"><span class="description">Add SKU to cart</span><pre>add()</pre></a></li>
<li class="method public "><a href="#method_addCoupon" title="addCoupon() :: Add coupon to cart"><span class="description">Add coupon to cart</span><pre>addCoupon()</pre></a></li>
<li class="method public "><a href="#method_addTransactionItemMeta" title="addTransactionItemMeta() :: Add the meta information for a given transaction item"><span class="description">Add the meta information for a given transaction item</span><pre>addTransactionItemMeta()</pre></a></li>
<li class="method public "><a href="#method_applyCoupon" title="applyCoupon() :: Check if coupon applies to the cart and add a SKU to cart if needed and possible"><span class="description">Check if coupon applies to the cart and add a SKU to cart if needed and possible</span><pre>applyCoupon()</pre></a></li>
<li class="method public inherited"><a href="#method_completeTransaction" title="completeTransaction() :: Complete the transaction, mark it as completed, done, success."><span class="description">Complete the transaction, mark it as completed, done, success.</span><pre>completeTransaction()</pre></a></li>
<li class="method public "><a href="#method_delete" title="delete() :: Delete SKU from cart"><span class="description">Delete SKU from cart</span><pre>delete()</pre></a></li>
<li class="method public inherited"><a href="#method_delete" title="delete() :: Delete SKU from cart"><span class="description">Delete SKU from cart</span><pre>delete()</pre></a></li>
<li class="method public "><a href="#method_finalizeTransaction" title="finalizeTransaction() :: Finalizes transaction in the DB"><span class="description">Finalizes transaction in the DB</span><pre>finalizeTransaction()</pre></a></li>
<li class="method public inherited"><a href="#method_getAllTransactions" title="getAllTransactions() :: Get all transactions"><span class="description">Get all transactions</span><pre>getAllTransactions()</pre></a></li>
<li class="method public "><a href="#method_getCartInfo" title="getCartInfo() :: Get session info about cart"><span class="description">Get session info about cart</span><pre>getCartInfo()</pre></a></li>
<li class="method public inherited"><a href="#method_getCartUser" title="getCartUser() :: Get user ID associated with the provided cart ID"><span class="description">Get user ID associated with the provided cart ID</span><pre>getCartUser()</pre></a></li>
<li class="method public "><a href="#method_getCouponPerks" title="getCouponPerks() :: Do the maintenance of coupons -- make sure all coupons are valid and in order, remove unnecessary coupons."><span class="description">Do the maintenance of coupons -- make sure all coupons are valid and in order, remove unnecessary coupons.</span><pre>getCouponPerks()</pre></a></li>
<li class="method public "><a href="#method_getCoupons" title="getCoupons() :: Get coupons applied to the cart"><span class="description">Get coupons applied to the cart</span><pre>getCoupons()</pre></a></li>
<li class="method public "><a href="#method_getMembershipInfo" title="getMembershipInfo() :: Handle memberships"><span class="description">Handle memberships</span><pre>getMembershipInfo()</pre></a></li>
<li class="method public "><a href="#method_getMessages" title="getMessages() :: Get all cart messages, both changes and set messages
Works like a flash variable -- gets messages once and then resets the state/messages"><span class="description">Get all cart messages, both changes and set messages
Works like a flash variable -- gets messages once and then resets the state/messages</span><pre>getMessages()</pre></a></li>
<li class="method public "><a href="#method_getNextCheckoutStep" title="getNextCheckoutStep() :: Determine the next step for checkout process"><span class="description">Determine the next step for checkout process</span><pre>getNextCheckoutStep()</pre></a></li>
<li class="method public inherited"><a href="#method_getSavedShippingAddresses" title="getSavedShippingAddresses() :: Gets all saved shipping addresses for this user"><span class="description">Gets all saved shipping addresses for this user</span><pre>getSavedShippingAddresses()</pre></a></li>
<li class="method public "><a href="#method_getToken" title="getToken() :: Generate unique security token to verify the place order calls"><span class="description">Generate unique security token to verify the place order calls</span><pre>getToken()</pre></a></li>
<li class="method public "><a href="#method_getTransaction" title="getTransaction() :: Get existing or create a new transaction (if doesn't exist)"><span class="description">Get existing or create a new transaction (if doesn't exist)</span><pre>getTransaction()</pre></a></li>
<li class="method public "><a href="#method_getTransactionData" title="getTransactionData() :: Gets all transaction related info about current cart transaction"><span class="description">Gets all transaction related info about current cart transaction</span><pre>getTransactionData()</pre></a></li>
<li class="method public inherited"><a href="#method_getTransactionFacts" title="getTransactionFacts() :: Get main transaction facts (total, other verification info)"><span class="description">Get main transaction facts (total, other verification info)</span><pre>getTransactionFacts()</pre></a></li>
<li class="method public inherited"><a href="#method_getTransactionInfo" title="getTransactionInfo() :: Gets all transaction related info"><span class="description">Gets all transaction related info</span><pre>getTransactionInfo()</pre></a></li>
<li class="method public inherited"><a href="#method_getTransactionItems" title="getTransactionItems() :: Get all items in the transaction"><span class="description">Get all items in the transaction</span><pre>getTransactionItems()</pre></a></li>
<li class="method public inherited"><a href="#method_getTransactions" title="getTransactions() :: Gets transactions for a cart"><span class="description">Gets transactions for a cart</span><pre>getTransactions()</pre></a></li>
<li class="method public inherited"><a href="#method_handleTransactionError" title="handleTransactionError() :: Handle the error processing the transaction"><span class="description">Handle the error processing the transaction</span><pre>handleTransactionError()</pre></a></li>
<li class="method public "><a href="#method_hasMessages" title="hasMessages() :: Check if there are any messages to display (cart changes or other set messages)"><span class="description">Check if there are any messages to display (cart changes or other set messages)</span><pre>hasMessages()</pre></a></li>
<li class="method public "><a href="#method_isEmpty" title="isEmpty() :: Check if the cart is empty"><span class="description">Check if the cart is empty</span><pre>isEmpty()</pre></a></li>
<li class="method public inherited"><a href="#method_killExpiredTransactions" title="killExpiredTransactions() :: Kill all expired transactions"><span class="description">Kill all expired transactions</span><pre>killExpiredTransactions()</pre></a></li>
<li class="method public "><a href="#method_liftTransaction" title="liftTransaction() :: Check if transaction is still valid and get transaction details and items"><span class="description">Check if transaction is still valid and get transaction details and items</span><pre>liftTransaction()</pre></a></li>
<li class="method public "><a href="#method_redirect" title="redirect() :: Redirect to cart different cart pages"><span class="description">Redirect to cart different cart pages</span><pre>redirect()</pre></a></li>
<li class="method public inherited"><a href="#method_releaseTransaction" title="releaseTransaction() :: Releases locked transaction items back to inventory and marks the transaction status as 'released'"><span class="description">Releases locked transaction items back to inventory and marks the transaction status as 'released'</span><pre>releaseTransaction()</pre></a></li>
<li class="method public "><a href="#method_removeCoupon" title="removeCoupon() :: Remove coupon from cart"><span class="description">Remove coupon from cart</span><pre>removeCoupon()</pre></a></li>
<li class="method public "><a href="#method_setMessage" title="setMessage() :: Set a cart message"><span class="description">Set a cart message</span><pre>setMessage()</pre></a></li>
<li class="method public "><a href="#method_setSavedShippingAddress" title="setSavedShippingAddress() :: Set selected saved shipping addresses for this user"><span class="description">Set selected saved shipping addresses for this user</span><pre>setSavedShippingAddress()</pre></a></li>
<li class="method public "><a href="#method_setStepStatus" title="setStepStatus() :: Mark step for current transaction as completed (default) or not-completed"><span class="description">Mark step for current transaction as completed (default) or not-completed</span><pre>setStepStatus()</pre></a></li>
<li class="method public "><a href="#method_setSync" title="setSync() :: Set syncing"><span class="description">Set syncing</span><pre>setSync()</pre></a></li>
<li class="method public "><a href="#method_setTransactionNotes" title="setTransactionNotes() :: Saves transaction notes"><span class="description">Saves transaction notes</span><pre>setTransactionNotes()</pre></a></li>
<li class="method public "><a href="#method_setTransactionShippingCost" title="setTransactionShippingCost() :: Saves transaction shipping cost and shipping discounts"><span class="description">Saves transaction shipping cost and shipping discounts</span><pre>setTransactionShippingCost()</pre></a></li>
<li class="method public "><a href="#method_setTransactionShippingInfo" title="setTransactionShippingInfo() :: Checks if transaction shipping info is correct and saves it"><span class="description">Checks if transaction shipping info is correct and saves it</span><pre>setTransactionShippingInfo()</pre></a></li>
<li class="method public "><a href="#method_update" title="update() :: Update/set SKU in cart"><span class="description">Update/set SKU in cart</span><pre>update()</pre></a></li>
<li class="method public inherited"><a href="#method_update" title="update() :: Update/set SKU in cart"><span class="description">Update/set SKU in cart</span><pre>update()</pre></a></li>
<li class="method public "><a href="#method_updateTransactionCustomerStatus" title="updateTransactionCustomerStatus() :: Set customer status"><span class="description">Set customer status</span><pre>updateTransactionCustomerStatus()</pre></a></li>
<li class="method public inherited"><a href="#method_updateTransactionItem" title="updateTransactionItem() :: Complete the transaction, mark it as completed, done, success."><span class="description">Complete the transaction, mark it as completed, done, success.</span><pre>updateTransactionItem()</pre></a></li>
<li class="method public inherited"><a href="#method_updateTransactionStatus" title="updateTransactionStatus() :: Update transaction status"><span class="description">Update transaction status</span><pre>updateTransactionStatus()</pre></a></li>
<li class="method public inherited"><a href="#method_verifySecurityToken" title="verifySecurityToken() :: Verify security token"><span class="description">Verify security token</span><pre>verifySecurityToken()</pre></a></li>
<li class="method public "><a href="#method_verifyToken" title="verifyToken() :: Verify security token"><span class="description">Verify security token</span><pre>verifyToken()</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="method protected inherited"><a href="#method_cartIsLinked" title="cartIsLinked() :: Check if cart is linked to any member's ID"><span class="description">Check if cart is linked to any member's ID</span><pre>cartIsLinked()</pre></a></li>
<li class="method protected inherited"><a href="#method_doItem" title="doItem() :: Update/add SKU/quantity to cart, update the price in the cart, save old price and inventory level (if requested)"><span class="description">Update/add SKU/quantity to cart, update the price in the cart, save old price and inventory level (if requested)</span><pre>doItem()</pre></a></li>
<li class="method protected inherited"><a href="#method_exists" title="exists() :: Check if the cart exists."><span class="description">Check if the cart exists.</span><pre>exists()</pre></a></li>
<li class="method protected inherited"><a href="#method_getCartItem" title="getCartItem() :: Get a single item in the cart"><span class="description">Get a single item in the cart</span><pre>getCartItem()</pre></a></li>
<li class="method protected inherited"><a href="#method_getCartItems" title="getCartItems() :: Get cart items from the database"><span class="description">Get cart items from the database</span><pre>getCartItems()</pre></a></li>
<li class="method protected inherited"><a href="#method_getUserCartId" title="getUserCartId() :: Check if user's cart exists and return its ID"><span class="description">Check if user's cart exists and return its ID</span><pre>getUserCartId()</pre></a></li>
<li class="method protected inherited"><a href="#method_kill" title="kill() :: Delete cart and all cart items"><span class="description">Delete cart and all cart items</span><pre>kill()</pre></a></li>
<li class="method protected inherited"><a href="#method_killTransaction" title="killTransaction() :: Kill transaction"><span class="description">Kill transaction</span><pre>killTransaction()</pre></a></li>
<li class="method protected inherited"><a href="#method_markItemUnavailable" title="markItemUnavailable() :: Update cart SKU, set as unavailable (if SKU or product get deleted or become unavailable)"><span class="description">Update cart SKU, set as unavailable (if SKU or product get deleted or become unavailable)</span><pre>markItemUnavailable()</pre></a></li>
<li class="method protected inherited"><a href="#method_removeItem" title="removeItem() :: Remove given quantity of SKU from cart"><span class="description">Remove given quantity of SKU from cart</span><pre>removeItem()</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="method private "><a href="#method_cartChanged" title="cartChanged() :: Check if there are any changes to cart items' inventory or pricing since last visit"><span class="description">Check if there are any changes to cart items' inventory or pricing since last visit</span><pre>cartChanged()</pre></a></li>
<li class="method private "><a href="#method_cleanOldTransactions" title="cleanOldTransactions() :: Kill all cart pending transactions"><span class="description">Kill all cart pending transactions</span><pre>cleanOldTransactions()</pre></a></li>
<li class="method private "><a href="#method_clearSessionCart" title="clearSessionCart() :: Clear session cart"><span class="description">Clear session cart</span><pre>clearSessionCart()</pre></a></li>
<li class="method private "><a href="#method_createCart" title="createCart() :: Create a new cart"><span class="description">Create a new cart</span><pre>createCart()</pre></a></li>
<li class="method private "><a href="#method_createTransaction" title="createTransaction() :: Create new transaction"><span class="description">Create new transaction</span><pre>createTransaction()</pre></a></li>
<li class="method private inherited"><a href="#method_deleteItem" title="deleteItem() :: Delete SKU from cart"><span class="description">Delete SKU from cart</span><pre>deleteItem()</pre></a></li>
<li class="method private "><a href="#method_getCartChanges" title="getCartChanges() :: Get any changes to cart items' inventory or pricing since last visit."><span class="description">Get any changes to cart items' inventory or pricing since last visit.</span><pre>getCartChanges()</pre></a></li>
<li class="method private "><a href="#method_getCheckoutSteps" title="getCheckoutSteps() :: Get steps for a transaction"><span class="description">Get steps for a transaction</span><pre>getCheckoutSteps()</pre></a></li>
<li class="method private "><a href="#method_getItems" title="getItems() :: Get all items in the cart if cart exists, if cart doesn't exist reset session data and create a new cart
This is primarily for cases when session cart doesn't exist anymore. In most cases cart will be there."><span class="description">Get all items in the cart if cart exists, if cart doesn't exist reset session data and create a new cart
This is primarily for cases when session cart doesn't exist anymore. In most cases cart will be there.</span><pre>getItems()</pre></a></li>
<li class="method private "><a href="#method_getTransactionItemMeta" title="getTransactionItemMeta() :: Get the meta information for a given transaction item"><span class="description">Get the meta information for a given transaction item</span><pre>getTransactionItemMeta()</pre></a></li>
<li class="method private "><a href="#method_getUpdatedItems" title="getUpdatedItems() :: Update cart based on current availability (and pricing) and return all items in the cart, update cart's 'lastUpdated' field"><span class="description">Update cart based on current availability (and pricing) and return all items in the cart, update cart's 'lastUpdated' field</span><pre>getUpdatedItems()</pre></a></li>
<li class="method private "><a href="#method_isCouponApplied" title="isCouponApplied() :: Checks if coupon is applied to the cart"><span class="description">Checks if coupon is applied to the cart</span><pre>isCouponApplied()</pre></a></li>
<li class="method private "><a href="#method_liftCart" title="liftCart() :: Lift requested cart
For logged in users use liftUserCart function instead."><span class="description">Lift requested cart
For logged in users use liftUserCart function instead.</span><pre>liftCart()</pre></a></li>
<li class="method private "><a href="#method_liftCookie" title="liftCookie() :: Get cart info from cookie"><span class="description">Get cart info from cookie</span><pre>liftCookie()</pre></a></li>
<li class="method private "><a href="#method_liftSessionCart" title="liftSessionCart() :: Get cart info from session, no DB call, simply use session data"><span class="description">Get cart info from session, no DB call, simply use session data</span><pre>liftSessionCart()</pre></a></li>
<li class="method private "><a href="#method_liftUserCart" title="liftUserCart() :: Find a cart in the DB for a given user and lift it"><span class="description">Find a cart in the DB for a given user and lift it</span><pre>liftUserCart()</pre></a></li>
<li class="method private "><a href="#method_linkCarts" title="linkCarts() :: Link a session cart with user's cart. If these carts are different -- merge them."><span class="description">Link a session cart with user's cart. If these carts are different -- merge them.</span><pre>linkCarts()</pre></a></li>
<li class="method private "><a href="#method_populateTransaction" title="populateTransaction() :: Populate transaction items and required steps -- cart must be synced."><span class="description">Populate transaction items and required steps -- cart must be synced.</span><pre>populateTransaction()</pre></a></li>
<li class="method private "><a href="#method_rebuildTransaction" title="rebuildTransaction() :: Attempts to rebuild a transaction if there is enough inventory and prices have not changed"><span class="description">Attempts to rebuild a transaction if there is enough inventory and prices have not changed</span><pre>rebuildTransaction()</pre></a></li>
<li class="method private inherited"><a href="#method_removeTransactionCouponsFromCart" title="removeTransactionCouponsFromCart() :: Remove transaction coupons from the cart associated with it"><span class="description">Remove transaction coupons from the cart associated with it</span><pre>removeTransactionCouponsFromCart()</pre></a></li>
<li class="method private inherited"><a href="#method_removeTransactionItemsFromCart" title="removeTransactionItemsFromCart() :: Remove transaction items from the cart associated with it"><span class="description">Remove transaction items from the cart associated with it</span><pre>removeTransactionItemsFromCart()</pre></a></li>
<li class="method private "><a href="#method_setTransactionItemMeta" title="setTransactionItemMeta() :: Set the meta information for a given transaction item"><span class="description">Set the meta information for a given transaction item</span><pre>setTransactionItemMeta()</pre></a></li>
<li class="method private inherited"><a href="#method_setTransactionItems" title="setTransactionItems() :: Set transaction items"><span class="description">Set transaction items</span><pre>setTransactionItems()</pre></a></li>
<li class="method private "><a href="#method_syncSessionCart" title="syncSessionCart() :: Sync session cart with the latest info from DB"><span class="description">Sync session cart with the latest info from DB</span><pre>syncSessionCart()</pre></a></li>
<li class="method private "><a href="#method_updateSession" title="updateSession() :: Update session with instance cart info (no product syncing)"><span class="description">Update session with instance cart info (no product syncing)</span><pre>updateSession()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i title="Properties" class="icon-custom icon-property"></i> Properties
                    <ul>
<li class="property public "><a href="#property_cart" title="$cart() :: Session cart"><span class="description"></span><pre>$cart</pre></a></li>
<li class="property public "><a href="#property_cookieTTL" title="$cookieTTL() :: Cookie max age"><span class="description"></span><pre>$cookieTTL</pre></a></li>
<li class="property public "><a href="#property_crtId" title="$crtId() :: Cart ID"><span class="description"></span><pre>$crtId</pre></a></li>
<li class="property public "><a href="#property_db" title="$db() :: Database instance"><span class="description"></span><pre>$db</pre></a></li>
<li class="property public "><a href="#property_debug" title="$debug() :: Debug mode"><span class="description"></span><pre>$debug</pre></a></li>
<li class="property public "><a href="#property_sync" title="$sync() :: Syncing enabled?"><span class="description"></span><pre>$sync</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul><li class="property protected "><a href="#property_securitySalt" title="$securitySalt() :: Salt"><span class="description"></span><pre>$securitySalt</pre></a></li></ul>
</li>
</ul>
</div>
<div class="span8">
<a xmlns:php="http://php.net/xsl" id="\Components\Cart\Models\CurrentCart"></a><ul xmlns:php="http://php.net/xsl" class="breadcrumb">
<li>
<a href="../index.html"><i title="Classes" class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/Components.html">Components</a></li>
<li>
<span class="divider">\</span><a href="../namespaces/Components.Cart.html">Cart</a>
</li>
<li>
<span class="divider">\</span><a href="../namespaces/Components.Cart.Models.html">Models</a>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/Components.Cart.Models.CurrentCart.html">CurrentCart</a>
</li>
</ul>
<div xmlns:php="http://php.net/xsl" class="element class">
<p class="short_description">Current user shopping cart</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/Default.html">Default</a></td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Components\Cart\Models\Cart</td>
</tr>
</table>
<h3>
<i title="Methods" class="icon-custom icon-method"></i> Methods</h3>
<a id="method___construct"></a><div class="element clickable method public method___construct " data-toggle="collapse" data-target=".method___construct .collapse" title="public">
<h2>Cart constructor</h2>
<pre>__construct() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Components\Cart\Models\Cart::__construct()</td>
</tr></table>
</div></div>
</div>
<a id="method___construct"></a><div class="element clickable method public method___construct inherited" data-toggle="collapse" data-target=".method___construct .collapse" title="public">
<h2>Cart constructor</h2>
<pre>__construct() : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_add"></a><div class="element clickable method public method_add " data-toggle="collapse" data-target=".method_add .collapse" title="public">
<h2>Add SKU to cart</h2>
<pre>add(integer $sId, integer $qty<code> = 1</code>) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Components\Cart\Models\Cart::add()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Quantity</p></div>
</div></div>
</div>
<a id="method_add"></a><div class="element clickable method public method_add inherited" data-toggle="collapse" data-target=".method_add .collapse" title="public">
<h2>Add SKU to cart</h2>
<pre>add(integer $sId, integer $qty<code> = 1</code>) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Quantity</p></div>
</div></div>
</div>
<a id="method_addCoupon"></a><div class="element clickable method public method_addCoupon " data-toggle="collapse" data-target=".method_addCoupon .collapse" title="public">
<h2>Add coupon to cart</h2>
<pre>addCoupon(string $couponCode) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$couponCode</h4>
<code>string</code><p>coupon code</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true on sucess</div>
</div></div>
</div>
<a id="method_addTransactionItemMeta"></a><div class="element clickable method public method_addTransactionItemMeta " data-toggle="collapse" data-target=".method_addTransactionItemMeta .collapse" title="public">
<h2>Add the meta information for a given transaction item</h2>
<pre>addTransactionItemMeta(integer $sId, mixed $meta) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU id of the item that needs to e updated</p></div>
<div class="subelement argument">
<h4>$meta</h4>
<code>mixed</code><p>Meta info</p></div>
</div></div>
</div>
<a id="method_applyCoupon"></a><div class="element clickable method public method_applyCoupon " data-toggle="collapse" data-target=".method_applyCoupon .collapse" title="public">
<h2>Check if coupon applies to the cart and add a SKU to cart if needed and possible</h2>
<pre>applyCoupon(integer $cnId) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cnId</h4>
<code>integer</code><p>coupon ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true on cuccess, exception on failure</div>
</div></div>
</div>
<a id="method_completeTransaction"></a><div class="element clickable method public method_completeTransaction inherited" data-toggle="collapse" data-target=".method_completeTransaction .collapse" title="public">
<h2>Complete the transaction, mark it as completed, done, success.</h2>
<pre>completeTransaction(object $tInfo) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>..</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tInfo</h4>
<code>object</code><p>Transaction info</p></div>
</div></div>
</div>
<a id="method_delete"></a><div class="element clickable method public method_delete " data-toggle="collapse" data-target=".method_delete .collapse" title="public">
<h2>Delete SKU from cart</h2>
<pre>delete(integer $sId) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Components\Cart\Models\Cart::delete()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
</div></div>
</div>
<a id="method_delete"></a><div class="element clickable method public method_delete inherited" data-toggle="collapse" data-target=".method_delete .collapse" title="public">
<h2>Delete SKU from cart</h2>
<pre>delete(integer $sId) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
</div></div>
</div>
<a id="method_finalizeTransaction"></a><div class="element clickable method public method_finalizeTransaction " data-toggle="collapse" data-target=".method_finalizeTransaction .collapse" title="public">
<h2>Finalizes transaction in the DB</h2>
<pre>finalizeTransaction() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_getAllTransactions"></a><div class="element clickable method public method_getAllTransactions inherited" data-toggle="collapse" data-target=".method_getAllTransactions .collapse" title="public">
<h2>Get all transactions</h2>
<pre>getAllTransactions(array $filters<code> = array()</code>, boolean $completedOnly<code> = true</code>) : mixed</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$filters</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$completedOnly</h4>
<code>boolean</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_getCartInfo"></a><div class="element clickable method public method_getCartInfo " data-toggle="collapse" data-target=".method_getCartInfo .collapse" title="public">
<h2>Get session info about cart</h2>
<pre>getCartInfo(boolean $sync<code> = false</code>) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sync</h4>
<code>boolean</code><p>Flag whether the session cart should be synced with DB first</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of items in the cart</div>
</div></div>
</div>
<a id="method_getCartUser"></a><div class="element clickable method public method_getCartUser inherited" data-toggle="collapse" data-target=".method_getCartUser .collapse" title="public">
<h2>Get user ID associated with the provided cart ID</h2>
<pre>getCartUser(integer $crtId) : integer</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>cart ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>user ID, false if no cart found</div>
</div></div>
</div>
<a id="method_getCouponPerks"></a><div class="element clickable method public method_getCouponPerks " data-toggle="collapse" data-target=".method_getCouponPerks .collapse" title="public">
<h2>Do the maintenance of coupons -- make sure all coupons are valid and in order, remove unnecessary coupons.</h2>
<pre>getCouponPerks() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>..
Return all perks available for the cart</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>perks</div>
</div></div>
</div>
<a id="method_getCoupons"></a><div class="element clickable method public method_getCoupons " data-toggle="collapse" data-target=".method_getCoupons .collapse" title="public">
<h2>Get coupons applied to the cart</h2>
<pre>getCoupons() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>coupons</div>
</div></div>
</div>
<a id="method_getMembershipInfo"></a><div class="element clickable method public method_getMembershipInfo " data-toggle="collapse" data-target=".method_getMembershipInfo .collapse" title="public">
<h2>Handle memberships</h2>
<pre>getMembershipInfo() : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>object</code>membership info</div>
</div></div>
</div>
<a id="method_getMessages"></a><div class="element clickable method public method_getMessages " data-toggle="collapse" data-target=".method_getMessages .collapse" title="public">
<h2>Get all cart messages, both changes and set messages
Works like a flash variable -- gets messages once and then resets the state/messages</h2>
<pre>getMessages() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_getNextCheckoutStep"></a><div class="element clickable method public method_getNextCheckoutStep " data-toggle="collapse" data-target=".method_getNextCheckoutStep .collapse" title="public">
<h2>Determine the next step for checkout process</h2>
<pre>getNextCheckoutStep() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Shipping (if shippable) -&gt; Registration info (if needed) -&gt; Summary page</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>method name</div>
</div></div>
</div>
<a id="method_getSavedShippingAddresses"></a><div class="element clickable method public method_getSavedShippingAddresses inherited" data-toggle="collapse" data-target=".method_getSavedShippingAddresses .collapse" title="public">
<h2>Gets all saved shipping addresses for this user</h2>
<pre>getSavedShippingAddresses(integer $uId) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uId</h4>
<code>integer</code><p>Currently logged in user ID</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_getToken"></a><div class="element clickable method public method_getToken " data-toggle="collapse" data-target=".method_getToken .collapse" title="public">
<h2>Generate unique security token to verify the place order calls</h2>
<pre>getToken() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>token</div>
</div></div>
</div>
<a id="method_getTransaction"></a><div class="element clickable method public method_getTransaction " data-toggle="collapse" data-target=".method_getTransaction .collapse" title="public">
<h2>Get existing or create a new transaction (if doesn't exist)</h2>
<pre>getTransaction() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of items in the transaction, FALSE on failed attempt</div>
</div></div>
</div>
<a id="method_getTransactionData"></a><div class="element clickable method public method_getTransactionData " data-toggle="collapse" data-target=".method_getTransactionData .collapse" title="public">
<h2>Gets all transaction related info about current cart transaction</h2>
<pre>getTransactionData() : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>object</code>false on no results</div>
</div></div>
</div>
<a id="method_getTransactionFacts"></a><div class="element clickable method public method_getTransactionFacts inherited" data-toggle="collapse" data-target=".method_getTransactionFacts .collapse" title="public">
<h2>Get main transaction facts (total, other verification info)</h2>
<pre>getTransactionFacts(integer $tId) : array</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>List of items in the transaction or false on failed attempt</div>
</div></div>
</div>
<a id="method_getTransactionInfo"></a><div class="element clickable method public method_getTransactionInfo inherited" data-toggle="collapse" data-target=".method_getTransactionInfo .collapse" title="public">
<h2>Gets all transaction related info</h2>
<pre>getTransactionInfo(integer $tId) : mixed</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>False on no results</div>
</div></div>
</div>
<a id="method_getTransactionItems"></a><div class="element clickable method public method_getTransactionItems inherited" data-toggle="collapse" data-target=".method_getTransactionItems .collapse" title="public">
<h2>Get all items in the transaction</h2>
<pre>getTransactionItems(integer $tId, boolean $verifySkuInfo<code> = true</code>) : mixed</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>transaction ID</p></div>
<div class="subelement argument">
<h4>$verifySkuInfo</h4>
<code>boolean</code><p>a flag wheretr the sku info should be verified for availability</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>List of items in the transaction, false if no items in transaction</div>
</div></div>
</div>
<a id="method_getTransactions"></a><div class="element clickable method public method_getTransactions inherited" data-toggle="collapse" data-target=".method_getTransactions .collapse" title="public">
<h2>Gets transactions for a cart</h2>
<pre>getTransactions(array $filters<code> = array()</code>, boolean $completedOnly<code> = true</code>) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$filters</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$completedOnly</h4>
<code>boolean</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_handleTransactionError"></a><div class="element clickable method public method_handleTransactionError inherited" data-toggle="collapse" data-target=".method_handleTransactionError .collapse" title="public">
<h2>Handle the error processing the transaction</h2>
<pre>handleTransactionError(integer $tId, object $error) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>transaction ID</p></div>
<div class="subelement argument">
<h4>$error</h4>
<code>object</code>
</div>
</div></div>
</div>
<a id="method_hasMessages"></a><div class="element clickable method public method_hasMessages " data-toggle="collapse" data-target=".method_hasMessages .collapse" title="public">
<h2>Check if there are any messages to display (cart changes or other set messages)</h2>
<pre>hasMessages() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_isEmpty"></a><div class="element clickable method public method_isEmpty " data-toggle="collapse" data-target=".method_isEmpty .collapse" title="public">
<h2>Check if the cart is empty</h2>
<pre>isEmpty() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_killExpiredTransactions"></a><div class="element clickable method public method_killExpiredTransactions inherited" data-toggle="collapse" data-target=".method_killExpiredTransactions .collapse" title="public">
<h2>Kill all expired transactions</h2>
<pre>killExpiredTransactions() : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_liftTransaction"></a><div class="element clickable method public method_liftTransaction " data-toggle="collapse" data-target=".method_liftTransaction .collapse" title="public">
<h2>Check if transaction is still valid and get transaction details and items</h2>
<pre>liftTransaction() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of items in the transaction or false on failed attempt</div>
</div></div>
</div>
<a id="method_redirect"></a><div class="element clickable method public method_redirect " data-toggle="collapse" data-target=".method_redirect .collapse" title="public">
<h2>Redirect to cart different cart pages</h2>
<pre>redirect(string $where) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$where</h4>
<code>string</code><p>Where to redirect</p></div>
</div></div>
</div>
<a id="method_releaseTransaction"></a><div class="element clickable method public method_releaseTransaction inherited" data-toggle="collapse" data-target=".method_releaseTransaction .collapse" title="public">
<h2>Releases locked transaction items back to inventory and marks the transaction status as 'released'</h2>
<pre>releaseTransaction(integer $tId) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
</div></div>
</div>
<a id="method_removeCoupon"></a><div class="element clickable method public method_removeCoupon " data-toggle="collapse" data-target=".method_removeCoupon .collapse" title="public">
<h2>Remove coupon from cart</h2>
<pre>removeCoupon(integer $cnId) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cnId</h4>
<code>integer</code><p>coupon ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true on sucess</div>
</div></div>
</div>
<a id="method_setMessage"></a><div class="element clickable method public method_setMessage " data-toggle="collapse" data-target=".method_setMessage .collapse" title="public">
<h2>Set a cart message</h2>
<pre>setMessage(string $msg, string $type<code> = 'info'</code>) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$msg</h4>
<code>string</code><p>Message</p></div>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>Message type, used to set the CSS class name</p></div>
</div></div>
</div>
<a id="method_setSavedShippingAddress"></a><div class="element clickable method public method_setSavedShippingAddress " data-toggle="collapse" data-target=".method_setSavedShippingAddress .collapse" title="public">
<h2>Set selected saved shipping addresses for this user</h2>
<pre>setSavedShippingAddress(integer $saId) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$saId</h4>
<code>integer</code><p>saved address ID</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_setStepStatus"></a><div class="element clickable method public method_setStepStatus " data-toggle="collapse" data-target=".method_setStepStatus .collapse" title="public">
<h2>Mark step for current transaction as completed (default) or not-completed</h2>
<pre>setStepStatus(string $step, mixed $meta<code> = ''</code>, boolean $status<code> = true</code>) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$step</h4>
<code>string</code><p>Step</p></div>
<div class="subelement argument">
<h4>$meta</h4>
<code>mixed</code><p>Meta key to match the step among multiple of the same type (eg transaction can have multiple EULA steps for each SKU)</p></div>
<div class="subelement argument">
<h4>$status</h4>
<code>boolean</code><p>Completed (true) or not completed (false)</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_setSync"></a><div class="element clickable method public method_setSync " data-toggle="collapse" data-target=".method_setSync .collapse" title="public">
<h2>Set syncing</h2>
<pre>setSync(boolean $mode<code> = true</code>) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$mode</h4>
<code>boolean</code>
</div>
</div></div>
</div>
<a id="method_setTransactionNotes"></a><div class="element clickable method public method_setTransactionNotes " data-toggle="collapse" data-target=".method_setTransactionNotes .collapse" title="public">
<h2>Saves transaction notes</h2>
<pre>setTransactionNotes(string $notes) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notes</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true</div>
</div></div>
</div>
<a id="method_setTransactionShippingCost"></a><div class="element clickable method public method_setTransactionShippingCost " data-toggle="collapse" data-target=".method_setTransactionShippingCost .collapse" title="public">
<h2>Saves transaction shipping cost and shipping discounts</h2>
<pre>setTransactionShippingCost(double $shippingCost) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$shippingCost</h4>
<code>double</code><p>shipping cost</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true</div>
</div></div>
</div>
<a id="method_setTransactionShippingInfo"></a><div class="element clickable method public method_setTransactionShippingInfo " data-toggle="collapse" data-target=".method_setTransactionShippingInfo .collapse" title="public">
<h2>Checks if transaction shipping info is correct and saves it</h2>
<pre>setTransactionShippingInfo() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>status and messages</div>
</div></div>
</div>
<a id="method_update"></a><div class="element clickable method public method_update " data-toggle="collapse" data-target=".method_update .collapse" title="public">
<h2>Update/set SKU in cart</h2>
<pre>update(integer $sId, integer $qty<code> = 1</code>, boolean $retainOldValue<code> = false</code>) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Components\Cart\Models\Cart::update()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Quantity</p></div>
<div class="subelement argument">
<h4>$retainOldValue</h4>
<code>boolean</code><p>Retain old value</p></div>
</div></div>
</div>
<a id="method_update"></a><div class="element clickable method public method_update inherited" data-toggle="collapse" data-target=".method_update .collapse" title="public">
<h2>Update/set SKU in cart</h2>
<pre>update(integer $sId, integer $qty<code> = 1</code>, boolean $retainOldValue<code> = false</code>) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Quantity</p></div>
<div class="subelement argument">
<h4>$retainOldValue</h4>
<code>boolean</code><p>Retain old value</p></div>
</div></div>
</div>
<a id="method_updateTransactionCustomerStatus"></a><div class="element clickable method public method_updateTransactionCustomerStatus " data-toggle="collapse" data-target=".method_updateTransactionCustomerStatus .collapse" title="public">
<h2>Set customer status</h2>
<pre>updateTransactionCustomerStatus(string $status, integer $tId<code> = null</code>) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$status</h4>
<code>string</code><p>new status</p></div>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>transaction ID</p></div>
</div></div>
</div>
<a id="method_updateTransactionItem"></a><div class="element clickable method public method_updateTransactionItem inherited" data-toggle="collapse" data-target=".method_updateTransactionItem .collapse" title="public">
<h2>Complete the transaction, mark it as completed, done, success.</h2>
<pre>updateTransactionItem(integer $tId, array $item) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>..</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<div class="subelement argument">
<h4>$item</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_updateTransactionStatus"></a><div class="element clickable method public method_updateTransactionStatus inherited" data-toggle="collapse" data-target=".method_updateTransactionStatus .collapse" title="public">
<h2>Update transaction status</h2>
<pre>updateTransactionStatus(string $status, integer $tId) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$status</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Success or failure</div>
</div></div>
</div>
<a id="method_verifySecurityToken"></a><div class="element clickable method public method_verifySecurityToken inherited" data-toggle="collapse" data-target=".method_verifySecurityToken .collapse" title="public">
<h2>Verify security token</h2>
<pre>verifySecurityToken(string $token, integer $tId) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$token</h4>
<code>string</code><p>string token</p></div>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_verifyToken"></a><div class="element clickable method public method_verifyToken " data-toggle="collapse" data-target=".method_verifyToken .collapse" title="public">
<h2>Verify security token</h2>
<pre>verifyToken(string $token, integer $tId<code> = false</code>) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$token</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_cartIsLinked"></a><div class="element clickable method protected method_cartIsLinked inherited" data-toggle="collapse" data-target=".method_cartIsLinked .collapse" title="protected">
<h2>Check if cart is linked to any member's ID</h2>
<pre>cartIsLinked(integer $crtId) : boolean</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>Cart ID</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_doItem"></a><div class="element clickable method protected method_doItem inherited" data-toggle="collapse" data-target=".method_doItem .collapse" title="protected">
<h2>Update/add SKU/quantity to cart, update the price in the cart, save old price and inventory level (if requested)</h2>
<pre>doItem(integer $sId, string $mode<code> = 'add'</code>, integer $qty<code> = 1</code>, boolean $retainOldValue<code> = false</code>) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$mode</h4>
<code>string</code><p>Update Method:  add - adds to the existing quantity,
set - ignores existing quantity and sets a new value,
sync - simply checks/updates inventory and pricing</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Quantity</p></div>
<div class="subelement argument">
<h4>$retainOldValue</h4>
<code>boolean</code><p>Flag determining whether the old qty should be saved (only when it goes down);
price get saved in either case</p></div>
</div></div>
</div>
<a id="method_exists"></a><div class="element clickable method protected method_exists inherited" data-toggle="collapse" data-target=".method_exists .collapse" title="protected">
<h2>Check if the cart exists.</h2>
<pre>exists() : boolean</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_getCartItem"></a><div class="element clickable method protected method_getCartItem inherited" data-toggle="collapse" data-target=".method_getCartItem .collapse" title="protected">
<h2>Get a single item in the cart</h2>
<pre>getCartItem(integer $sId) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>SKU cart info</div>
</div></div>
</div>
<a id="method_getCartItems"></a><div class="element clickable method protected method_getCartItems inherited" data-toggle="collapse" data-target=".method_getCartItems .collapse" title="protected">
<h2>Get cart items from the database</h2>
<pre>getCartItems() : object</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>object</code>Object with two elements: array of SKU info in the cart and array of SKU IDs in the cart</div>
</div></div>
</div>
<a id="method_getUserCartId"></a><div class="element clickable method protected method_getUserCartId inherited" data-toggle="collapse" data-target=".method_getUserCartId .collapse" title="protected">
<h2>Check if user's cart exists and return its ID</h2>
<pre>getUserCartId(integer $uId) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uId</h4>
<code>integer</code><p>User ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>Cart ID, false if no user cart exists</div>
</div></div>
</div>
<a id="method_kill"></a><div class="element clickable method protected method_kill inherited" data-toggle="collapse" data-target=".method_kill .collapse" title="protected">
<h2>Delete cart and all cart items</h2>
<pre>kill(integer $crtId) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>Cart ID</p></div>
</div></div>
</div>
<a id="method_killTransaction"></a><div class="element clickable method protected method_killTransaction inherited" data-toggle="collapse" data-target=".method_killTransaction .collapse" title="protected">
<h2>Kill transaction</h2>
<pre>killTransaction(integer $tId) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>transaction ID to kill</p></div>
</div></div>
</div>
<a id="method_markItemUnavailable"></a><div class="element clickable method protected method_markItemUnavailable inherited" data-toggle="collapse" data-target=".method_markItemUnavailable .collapse" title="protected">
<h2>Update cart SKU, set as unavailable (if SKU or product get deleted or become unavailable)</h2>
<pre>markItemUnavailable(integer $sId) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
</div></div>
</div>
<a id="method_removeItem"></a><div class="element clickable method protected method_removeItem inherited" data-toggle="collapse" data-target=".method_removeItem .collapse" title="protected">
<h2>Remove given quantity of SKU from cart</h2>
<pre>removeItem(integer $sId, integer $qty, integer $crtId) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Qty</p></div>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>Cart ID</p></div>
</div></div>
</div>
<a id="method_cartChanged"></a><div class="element clickable method private method_cartChanged " data-toggle="collapse" data-target=".method_cartChanged .collapse" title="private">
<h2>Check if there are any changes to cart items' inventory or pricing since last visit</h2>
<pre>cartChanged() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_cleanOldTransactions"></a><div class="element clickable method private method_cleanOldTransactions " data-toggle="collapse" data-target=".method_cleanOldTransactions .collapse" title="private">
<h2>Kill all cart pending transactions</h2>
<pre>cleanOldTransactions() : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_clearSessionCart"></a><div class="element clickable method private method_clearSessionCart " data-toggle="collapse" data-target=".method_clearSessionCart .collapse" title="private">
<h2>Clear session cart</h2>
<pre>clearSessionCart() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_createCart"></a><div class="element clickable method private method_createCart " data-toggle="collapse" data-target=".method_createCart .collapse" title="private">
<h2>Create a new cart</h2>
<pre>createCart() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_createTransaction"></a><div class="element clickable method private method_createTransaction " data-toggle="collapse" data-target=".method_createTransaction .collapse" title="private">
<h2>Create new transaction</h2>
<pre>createTransaction() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_deleteItem"></a><div class="element clickable method private method_deleteItem inherited" data-toggle="collapse" data-target=".method_deleteItem .collapse" title="private">
<h2>Delete SKU from cart</h2>
<pre>deleteItem(integer $sId) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
</div></div>
</div>
<a id="method_getCartChanges"></a><div class="element clickable method private method_getCartChanges " data-toggle="collapse" data-target=".method_getCartChanges .collapse" title="private">
<h2>Get any changes to cart items' inventory or pricing since last visit.</h2>
<pre>getCartChanges() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Works like a flash variable -- gets messages once and then resets the state</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of change messages</div>
</div></div>
</div>
<a id="method_getCheckoutSteps"></a><div class="element clickable method private method_getCheckoutSteps " data-toggle="collapse" data-target=".method_getCheckoutSteps .collapse" title="private">
<h2>Get steps for a transaction</h2>
<pre>getCheckoutSteps() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>method name</div>
</div></div>
</div>
<a id="method_getItems"></a><div class="element clickable method private method_getItems " data-toggle="collapse" data-target=".method_getItems .collapse" title="private">
<h2>Get all items in the cart if cart exists, if cart doesn't exist reset session data and create a new cart
This is primarily for cases when session cart doesn't exist anymore. In most cases cart will be there.</h2>
<pre>getItems() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of items in the cart</div>
</div></div>
</div>
<a id="method_getTransactionItemMeta"></a><div class="element clickable method private method_getTransactionItemMeta " data-toggle="collapse" data-target=".method_getTransactionItemMeta .collapse" title="private">
<h2>Get the meta information for a given transaction item</h2>
<pre>getTransactionItemMeta(integer $sId) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU id of the item that needs to e updated</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>Meta info</div>
</div></div>
</div>
<a id="method_getUpdatedItems"></a><div class="element clickable method private method_getUpdatedItems " data-toggle="collapse" data-target=".method_getUpdatedItems .collapse" title="private">
<h2>Update cart based on current availability (and pricing) and return all items in the cart, update cart's 'lastUpdated' field</h2>
<pre>getUpdatedItems() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of items in the cart</div>
</div></div>
</div>
<a id="method_isCouponApplied"></a><div class="element clickable method private method_isCouponApplied " data-toggle="collapse" data-target=".method_isCouponApplied .collapse" title="private">
<h2>Checks if coupon is applied to the cart</h2>
<pre>isCouponApplied($cnCode) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$cnCode</h4></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_liftCart"></a><div class="element clickable method private method_liftCart " data-toggle="collapse" data-target=".method_liftCart .collapse" title="private">
<h2>Lift requested cart
For logged in users use liftUserCart function instead.</h2>
<pre>liftCart(integer $crtId) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>Cart ID</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_liftCookie"></a><div class="element clickable method private method_liftCookie " data-toggle="collapse" data-target=".method_liftCookie .collapse" title="private">
<h2>Get cart info from cookie</h2>
<pre>liftCookie() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_liftSessionCart"></a><div class="element clickable method private method_liftSessionCart " data-toggle="collapse" data-target=".method_liftSessionCart .collapse" title="private">
<h2>Get cart info from session, no DB call, simply use session data</h2>
<pre>liftSessionCart() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_liftUserCart"></a><div class="element clickable method private method_liftUserCart " data-toggle="collapse" data-target=".method_liftUserCart .collapse" title="private">
<h2>Find a cart in the DB for a given user and lift it</h2>
<pre>liftUserCart($uId) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uId</h4><p>User ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>True if cart exists and can be lifted, false if no user cart exists or cart cannot be lifted</div>
</div></div>
</div>
<a id="method_linkCarts"></a><div class="element clickable method private method_linkCarts " data-toggle="collapse" data-target=".method_linkCarts .collapse" title="private">
<h2>Link a session cart with user's cart. If these carts are different -- merge them.</h2>
<pre>linkCarts() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If there is only a session cart -- make it the user's cart</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_populateTransaction"></a><div class="element clickable method private method_populateTransaction " data-toggle="collapse" data-target=".method_populateTransaction .collapse" title="private">
<h2>Populate transaction items and required steps -- cart must be synced.</h2>
<pre>populateTransaction() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_rebuildTransaction"></a><div class="element clickable method private method_rebuildTransaction " data-toggle="collapse" data-target=".method_rebuildTransaction .collapse" title="private">
<h2>Attempts to rebuild a transaction if there is enough inventory and prices have not changed</h2>
<pre>rebuildTransaction() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Success or failure</div>
</div></div>
</div>
<a id="method_removeTransactionCouponsFromCart"></a><div class="element clickable method private method_removeTransactionCouponsFromCart inherited" data-toggle="collapse" data-target=".method_removeTransactionCouponsFromCart .collapse" title="private">
<h2>Remove transaction coupons from the cart associated with it</h2>
<pre>removeTransactionCouponsFromCart(object $tInfo) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tInfo</h4>
<code>object</code><p>transaction info</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_removeTransactionItemsFromCart"></a><div class="element clickable method private method_removeTransactionItemsFromCart inherited" data-toggle="collapse" data-target=".method_removeTransactionItemsFromCart .collapse" title="private">
<h2>Remove transaction items from the cart associated with it</h2>
<pre>removeTransactionItemsFromCart(object $tInfo) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tInfo</h4>
<code>object</code><p>transaction info</p></div>
</div></div>
</div>
<a id="method_setTransactionItemMeta"></a><div class="element clickable method private method_setTransactionItemMeta " data-toggle="collapse" data-target=".method_setTransactionItemMeta .collapse" title="private">
<h2>Set the meta information for a given transaction item</h2>
<pre>setTransactionItemMeta(integer $sId, mixed $meta) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU id of the item that needs to e updated</p></div>
<div class="subelement argument">
<h4>$meta</h4>
<code>mixed</code><p>Meta info</p></div>
</div></div>
</div>
<a id="method_setTransactionItems"></a><div class="element clickable method private method_setTransactionItems inherited" data-toggle="collapse" data-target=".method_setTransactionItems .collapse" title="private">
<h2>Set transaction items</h2>
<pre>setTransactionItems(integer $tId, \Components\Cart\Models\obj $items) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<div class="subelement argument">
<h4>$items</h4>
<code>\Components\Cart\Models\obj</code><p>Items</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_syncSessionCart"></a><div class="element clickable method private method_syncSessionCart " data-toggle="collapse" data-target=".method_syncSessionCart .collapse" title="private">
<h2>Sync session cart with the latest info from DB</h2>
<pre>syncSessionCart() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_updateSession"></a><div class="element clickable method private method_updateSession " data-toggle="collapse" data-target=".method_updateSession .collapse" title="private">
<h2>Update session with instance cart info (no product syncing)</h2>
<pre>updateSession() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<h3>
<i title="Properties" class="icon-custom icon-property"></i> Properties</h3>
<a id="property_cart"> </a><div class="element clickable property public property_cart" data-toggle="collapse" data-target=".property_cart .collapse" title="public">
<h2>Session cart</h2>
<pre>$cart : object</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_cookieTTL"> </a><div class="element clickable property public property_cookieTTL" data-toggle="collapse" data-target=".property_cookieTTL .collapse" title="public">
<h2>Cookie max age</h2>
<pre>$cookieTTL : integer</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>7776000</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_crtId"> </a><div class="element clickable property public property_crtId" data-toggle="collapse" data-target=".property_crtId .collapse" title="public">
<h2>Cart ID</h2>
<pre>$crtId : integer</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_db"> </a><div class="element clickable property public property_db" data-toggle="collapse" data-target=".property_db .collapse" title="public">
<h2>Database instance</h2>
<pre>$db : object</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_debug"> </a><div class="element clickable property public property_debug" data-toggle="collapse" data-target=".property_debug .collapse" title="public">
<h2>Debug mode</h2>
<pre>$debug : boolean</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>false</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_sync"> </a><div class="element clickable property public property_sync" data-toggle="collapse" data-target=".property_sync .collapse" title="public">
<h2>Syncing enabled?</h2>
<pre>$sync : boolean</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>true</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_securitySalt"> </a><div class="element clickable property protected property_securitySalt" data-toggle="collapse" data-target=".property_securitySalt .collapse" title="protected">
<h2>Salt</h2>
<pre>$securitySalt : string</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>'ERDCVcvk$sad!ccsso====++!w'</code></div>
</div></div>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12" style="text-align: center;">
			Created by <a href="https://wei170.github.io">Guocheng Wei</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.8.5</a> and<br>
            generated on 2017-05-22T16:39:49-04:00.<br></footer></div>
</div>
</body>
</html>
