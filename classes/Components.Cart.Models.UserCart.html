<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Hubzero-cms Api Documentation » \Components\Cart\Models\UserCart</title>
<meta name="author" content="Guocheng Wei">
<meta name="description" content="Api Documentation for HUBzero framework">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="icon" type="image/png" href="../img/favicon-16x16.png">
<link rel="icon" type="image/png" href="../img/favicon-32x32.png">
<link rel="icon" type="image/png" href="../img/favicon-96x96.png">
<link rel="apple-touch-icon" sizes="57x57" href="../img/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../img/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../img/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../img/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../img/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../img/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../img/apple-icon-180x180.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Hubzero-cms Api Documentation</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/Components.html"><i class="icon-th"></i> Components</a></li>
<li><a href="../namespaces/Cron.html"><i class="icon-th"></i> Cron</a></li>
<li><a href="../namespaces/Hubzero.html"><i class="icon-th"></i> Hubzero</a></li>
<li><a href="../namespaces/Maknz.html"><i class="icon-th"></i> Maknz</a></li>
<li><a href="../namespaces/Modules.html"><i class="icon-th"></i> Modules</a></li>
<li><a href="../namespaces/Plugins.html"><i class="icon-th"></i> Plugins</a></li>
<li><a href="../namespaces/SciStarter.html"><i class="icon-th"></i> SciStarter</a></li>
<li><a href="../namespaces/TwitterFeed.html"><i class="icon-th"></i> TwitterFeed</a></li>
<li><a href="../namespaces/global.html"><i class="icon-th"></i> global</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Dataviewer%20::%20Data%20Definition%20Converter.html"><i class="icon-folder-open"></i> Dataviewer :: Data Definition Converter</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/Diff.html"><i class="icon-folder-open"></i> Diff</a></li>
<li><a href="../packages/DiffLib.html"><i class="icon-folder-open"></i> DiffLib</a></li>
<li><a href="../packages/HUBzero.html"><i class="icon-folder-open"></i> HUBzero</a></li>
<li><a href="../packages/HUBzero%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CMS.html"><i class="icon-folder-open"></i> HUBzero                                  CMS</a></li>
<li><a href="../packages/Hubzero.html"><i class="icon-folder-open"></i> Hubzero</a></li>
<li><a href="../packages/Joomla.html"><i class="icon-folder-open"></i> Joomla</a></li>
<li><a href="../packages/Joomla.Administrator.html"><i class="icon-folder-open"></i> Joomla.Administrator</a></li>
<li><a href="../packages/Joomla.Plugin.html"><i class="icon-folder-open"></i> Joomla.Plugin</a></li>
<li><a href="../packages/Joomla.Site.html"><i class="icon-folder-open"></i> Joomla.Site</a></li>
<li><a href="../packages/MathRenderer.html"><i class="icon-folder-open"></i> MathRenderer</a></li>
<li><a href="../packages/PEAR.html"><i class="icon-folder-open"></i> PEAR</a></li>
<li><a href="../packages/SpamAssassin_Client.html"><i class="icon-folder-open"></i> SpamAssassin_Client</a></li>
<li><a href="../packages/Structures_BibTex.html"><i class="icon-folder-open"></i> Structures_BibTex</a></li>
<li><a href="../packages/akismet.html"><i class="icon-folder-open"></i> akismet</a></li>
<li><a href="../packages/framework.html"><i class="icon-folder-open"></i> framework</a></li>
<li><a href="../packages/geshi.html"><i class="icon-folder-open"></i> geshi</a></li>
<li><a href="../packages/hubzero-cms.html"><i class="icon-folder-open"></i> hubzero-cms</a></li>
<li><a href="../packages/hubzero.cms.admin.html"><i class="icon-folder-open"></i> hubzero.cms.admin</a></li>
<li><a href="../packages/hubzero.cms.site.html"><i class="icon-folder-open"></i> hubzero.cms.site</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">6184</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">3585</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div xmlns:php="http://php.net/xsl" class="btn-toolbar">
<div class="btn-group visibility" data-toggle="buttons-checkbox">
<button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited" title="Show inherited elements">Inherited</button>
</div>
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
</div>
<ul xmlns:php="http://php.net/xsl" class="side-nav nav nav-list">
<li class="nav-header">
<i title="Methods" class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method___construct" title="__construct() :: Cart constructor"><span class="description">Cart constructor</span><pre>__construct()</pre></a></li>
<li class="method public inherited"><a href="#method___construct" title="__construct() :: Cart constructor"><span class="description">Cart constructor</span><pre>__construct()</pre></a></li>
<li class="method public inherited"><a href="#method_add" title="add() :: Add SKU to cart"><span class="description">Add SKU to cart</span><pre>add()</pre></a></li>
<li class="method public inherited"><a href="#method_completeTransaction" title="completeTransaction() :: Complete the transaction, mark it as completed, done, success."><span class="description">Complete the transaction, mark it as completed, done, success.</span><pre>completeTransaction()</pre></a></li>
<li class="method public inherited"><a href="#method_delete" title="delete() :: Delete SKU from cart"><span class="description">Delete SKU from cart</span><pre>delete()</pre></a></li>
<li class="method public inherited"><a href="#method_getAllTransactions" title="getAllTransactions() :: Get all transactions"><span class="description">Get all transactions</span><pre>getAllTransactions()</pre></a></li>
<li class="method public "><a href="#method_getCartItems" title="getCartItems() :: Get SKUs from the database"><span class="description">Get SKUs from the database</span><pre>getCartItems()</pre></a></li>
<li class="method public inherited"><a href="#method_getCartUser" title="getCartUser() :: Get user ID associated with the provided cart ID"><span class="description">Get user ID associated with the provided cart ID</span><pre>getCartUser()</pre></a></li>
<li class="method public inherited"><a href="#method_getSavedShippingAddresses" title="getSavedShippingAddresses() :: Gets all saved shipping addresses for this user"><span class="description">Gets all saved shipping addresses for this user</span><pre>getSavedShippingAddresses()</pre></a></li>
<li class="method public inherited"><a href="#method_getTransactionFacts" title="getTransactionFacts() :: Get main transaction facts (total, other verification info)"><span class="description">Get main transaction facts (total, other verification info)</span><pre>getTransactionFacts()</pre></a></li>
<li class="method public inherited"><a href="#method_getTransactionInfo" title="getTransactionInfo() :: Gets all transaction related info"><span class="description">Gets all transaction related info</span><pre>getTransactionInfo()</pre></a></li>
<li class="method public inherited"><a href="#method_getTransactionItems" title="getTransactionItems() :: Get all items in the transaction"><span class="description">Get all items in the transaction</span><pre>getTransactionItems()</pre></a></li>
<li class="method public inherited"><a href="#method_getTransactions" title="getTransactions() :: Gets transactions for a cart"><span class="description">Gets transactions for a cart</span><pre>getTransactions()</pre></a></li>
<li class="method public inherited"><a href="#method_handleTransactionError" title="handleTransactionError() :: Handle the error processing the transaction"><span class="description">Handle the error processing the transaction</span><pre>handleTransactionError()</pre></a></li>
<li class="method public inherited"><a href="#method_killExpiredTransactions" title="killExpiredTransactions() :: Kill all expired transactions"><span class="description">Kill all expired transactions</span><pre>killExpiredTransactions()</pre></a></li>
<li class="method public inherited"><a href="#method_releaseTransaction" title="releaseTransaction() :: Releases locked transaction items back to inventory and marks the transaction status as 'released'"><span class="description">Releases locked transaction items back to inventory and marks the transaction status as 'released'</span><pre>releaseTransaction()</pre></a></li>
<li class="method public inherited"><a href="#method_update" title="update() :: Update/set SKU in cart"><span class="description">Update/set SKU in cart</span><pre>update()</pre></a></li>
<li class="method public inherited"><a href="#method_updateTransactionItem" title="updateTransactionItem() :: Complete the transaction, mark it as completed, done, success."><span class="description">Complete the transaction, mark it as completed, done, success.</span><pre>updateTransactionItem()</pre></a></li>
<li class="method public inherited"><a href="#method_updateTransactionStatus" title="updateTransactionStatus() :: Update transaction status"><span class="description">Update transaction status</span><pre>updateTransactionStatus()</pre></a></li>
<li class="method public inherited"><a href="#method_verifySecurityToken" title="verifySecurityToken() :: Verify security token"><span class="description">Verify security token</span><pre>verifySecurityToken()</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="method protected inherited"><a href="#method_cartIsLinked" title="cartIsLinked() :: Check if cart is linked to any member's ID"><span class="description">Check if cart is linked to any member's ID</span><pre>cartIsLinked()</pre></a></li>
<li class="method protected inherited"><a href="#method_doItem" title="doItem() :: Update/add SKU/quantity to cart, update the price in the cart, save old price and inventory level (if requested)"><span class="description">Update/add SKU/quantity to cart, update the price in the cart, save old price and inventory level (if requested)</span><pre>doItem()</pre></a></li>
<li class="method protected inherited"><a href="#method_exists" title="exists() :: Check if the cart exists."><span class="description">Check if the cart exists.</span><pre>exists()</pre></a></li>
<li class="method protected inherited"><a href="#method_getCartItem" title="getCartItem() :: Get a single item in the cart"><span class="description">Get a single item in the cart</span><pre>getCartItem()</pre></a></li>
<li class="method protected inherited"><a href="#method_getCartItems" title="getCartItems() :: Get cart items from the database"><span class="description">Get cart items from the database</span><pre>getCartItems()</pre></a></li>
<li class="method protected inherited"><a href="#method_getUserCartId" title="getUserCartId() :: Check if user's cart exists and return its ID"><span class="description">Check if user's cart exists and return its ID</span><pre>getUserCartId()</pre></a></li>
<li class="method protected inherited"><a href="#method_kill" title="kill() :: Delete cart and all cart items"><span class="description">Delete cart and all cart items</span><pre>kill()</pre></a></li>
<li class="method protected inherited"><a href="#method_killTransaction" title="killTransaction() :: Kill transaction"><span class="description">Kill transaction</span><pre>killTransaction()</pre></a></li>
<li class="method protected inherited"><a href="#method_markItemUnavailable" title="markItemUnavailable() :: Update cart SKU, set as unavailable (if SKU or product get deleted or become unavailable)"><span class="description">Update cart SKU, set as unavailable (if SKU or product get deleted or become unavailable)</span><pre>markItemUnavailable()</pre></a></li>
<li class="method protected inherited"><a href="#method_removeItem" title="removeItem() :: Remove given quantity of SKU from cart"><span class="description">Remove given quantity of SKU from cart</span><pre>removeItem()</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="method private inherited"><a href="#method_deleteItem" title="deleteItem() :: Delete SKU from cart"><span class="description">Delete SKU from cart</span><pre>deleteItem()</pre></a></li>
<li class="method private inherited"><a href="#method_removeTransactionCouponsFromCart" title="removeTransactionCouponsFromCart() :: Remove transaction coupons from the cart associated with it"><span class="description">Remove transaction coupons from the cart associated with it</span><pre>removeTransactionCouponsFromCart()</pre></a></li>
<li class="method private inherited"><a href="#method_removeTransactionItemsFromCart" title="removeTransactionItemsFromCart() :: Remove transaction items from the cart associated with it"><span class="description">Remove transaction items from the cart associated with it</span><pre>removeTransactionItemsFromCart()</pre></a></li>
<li class="method private inherited"><a href="#method_setTransactionItems" title="setTransactionItems() :: Set transaction items"><span class="description">Set transaction items</span><pre>setTransactionItems()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i title="Properties" class="icon-custom icon-property"></i> Properties
                    <ul>
<li class="property public "><a href="#property_crtId" title="$crtId() :: Cart ID"><span class="description"></span><pre>$crtId</pre></a></li>
<li class="property public "><a href="#property_db" title="$db() :: Database instance"><span class="description"></span><pre>$db</pre></a></li>
<li class="property public "><a href="#property_debug" title="$debug() :: Debug mode"><span class="description"></span><pre>$debug</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul><li class="property protected "><a href="#property_securitySalt" title="$securitySalt() :: Salt"><span class="description"></span><pre>$securitySalt</pre></a></li></ul>
</li>
</ul>
</div>
<div class="span8">
<a xmlns:php="http://php.net/xsl" id="\Components\Cart\Models\UserCart"></a><ul xmlns:php="http://php.net/xsl" class="breadcrumb">
<li>
<a href="../index.html"><i title="Classes" class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/Components.html">Components</a></li>
<li>
<span class="divider">\</span><a href="../namespaces/Components.Cart.html">Cart</a>
</li>
<li>
<span class="divider">\</span><a href="../namespaces/Components.Cart.Models.html">Models</a>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/Components.Cart.Models.UserCart.html">UserCart</a>
</li>
</ul>
<div xmlns:php="http://php.net/xsl" class="element class">
<p class="short_description">User shopping cart</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/Default.html">Default</a></td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Components\Cart\Models\Cart</td>
</tr>
</table>
<h3>
<i title="Methods" class="icon-custom icon-method"></i> Methods</h3>
<a id="method___construct"></a><div class="element clickable method public method___construct " data-toggle="collapse" data-target=".method___construct .collapse" title="public">
<h2>Cart constructor</h2>
<pre>__construct(integer $crtId) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Components\Cart\Models\Cart::__construct()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>Cart ID to locate the specific cart</p></div>
</div></div>
</div>
<a id="method___construct"></a><div class="element clickable method public method___construct inherited" data-toggle="collapse" data-target=".method___construct .collapse" title="public">
<h2>Cart constructor</h2>
<pre>__construct() : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_add"></a><div class="element clickable method public method_add inherited" data-toggle="collapse" data-target=".method_add .collapse" title="public">
<h2>Add SKU to cart</h2>
<pre>add(integer $sId, integer $qty<code> = 1</code>) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Quantity</p></div>
</div></div>
</div>
<a id="method_completeTransaction"></a><div class="element clickable method public method_completeTransaction inherited" data-toggle="collapse" data-target=".method_completeTransaction .collapse" title="public">
<h2>Complete the transaction, mark it as completed, done, success.</h2>
<pre>completeTransaction(object $tInfo) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>..</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tInfo</h4>
<code>object</code><p>Transaction info</p></div>
</div></div>
</div>
<a id="method_delete"></a><div class="element clickable method public method_delete inherited" data-toggle="collapse" data-target=".method_delete .collapse" title="public">
<h2>Delete SKU from cart</h2>
<pre>delete(integer $sId) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
</div></div>
</div>
<a id="method_getAllTransactions"></a><div class="element clickable method public method_getAllTransactions inherited" data-toggle="collapse" data-target=".method_getAllTransactions .collapse" title="public">
<h2>Get all transactions</h2>
<pre>getAllTransactions(array $filters<code> = array()</code>, boolean $completedOnly<code> = true</code>) : mixed</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$filters</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$completedOnly</h4>
<code>boolean</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_getCartItems"></a><div class="element clickable method public method_getCartItems " data-toggle="collapse" data-target=".method_getCartItems .collapse" title="public">
<h2>Get SKUs from the database</h2>
<pre>getCartItems() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Components\Cart\Models\Cart::getCartItems()</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of SKU IDs in the cart</div>
</div></div>
</div>
<a id="method_getCartUser"></a><div class="element clickable method public method_getCartUser inherited" data-toggle="collapse" data-target=".method_getCartUser .collapse" title="public">
<h2>Get user ID associated with the provided cart ID</h2>
<pre>getCartUser(integer $crtId) : integer</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>cart ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>user ID, false if no cart found</div>
</div></div>
</div>
<a id="method_getSavedShippingAddresses"></a><div class="element clickable method public method_getSavedShippingAddresses inherited" data-toggle="collapse" data-target=".method_getSavedShippingAddresses .collapse" title="public">
<h2>Gets all saved shipping addresses for this user</h2>
<pre>getSavedShippingAddresses(integer $uId) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uId</h4>
<code>integer</code><p>Currently logged in user ID</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_getTransactionFacts"></a><div class="element clickable method public method_getTransactionFacts inherited" data-toggle="collapse" data-target=".method_getTransactionFacts .collapse" title="public">
<h2>Get main transaction facts (total, other verification info)</h2>
<pre>getTransactionFacts(integer $tId) : array</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>List of items in the transaction or false on failed attempt</div>
</div></div>
</div>
<a id="method_getTransactionInfo"></a><div class="element clickable method public method_getTransactionInfo inherited" data-toggle="collapse" data-target=".method_getTransactionInfo .collapse" title="public">
<h2>Gets all transaction related info</h2>
<pre>getTransactionInfo(integer $tId) : mixed</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>False on no results</div>
</div></div>
</div>
<a id="method_getTransactionItems"></a><div class="element clickable method public method_getTransactionItems inherited" data-toggle="collapse" data-target=".method_getTransactionItems .collapse" title="public">
<h2>Get all items in the transaction</h2>
<pre>getTransactionItems(integer $tId, boolean $verifySkuInfo<code> = true</code>) : mixed</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>transaction ID</p></div>
<div class="subelement argument">
<h4>$verifySkuInfo</h4>
<code>boolean</code><p>a flag wheretr the sku info should be verified for availability</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>List of items in the transaction, false if no items in transaction</div>
</div></div>
</div>
<a id="method_getTransactions"></a><div class="element clickable method public method_getTransactions inherited" data-toggle="collapse" data-target=".method_getTransactions .collapse" title="public">
<h2>Gets transactions for a cart</h2>
<pre>getTransactions(array $filters<code> = array()</code>, boolean $completedOnly<code> = true</code>) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$filters</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$completedOnly</h4>
<code>boolean</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_handleTransactionError"></a><div class="element clickable method public method_handleTransactionError inherited" data-toggle="collapse" data-target=".method_handleTransactionError .collapse" title="public">
<h2>Handle the error processing the transaction</h2>
<pre>handleTransactionError(integer $tId, object $error) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>transaction ID</p></div>
<div class="subelement argument">
<h4>$error</h4>
<code>object</code>
</div>
</div></div>
</div>
<a id="method_killExpiredTransactions"></a><div class="element clickable method public method_killExpiredTransactions inherited" data-toggle="collapse" data-target=".method_killExpiredTransactions .collapse" title="public">
<h2>Kill all expired transactions</h2>
<pre>killExpiredTransactions() : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_releaseTransaction"></a><div class="element clickable method public method_releaseTransaction inherited" data-toggle="collapse" data-target=".method_releaseTransaction .collapse" title="public">
<h2>Releases locked transaction items back to inventory and marks the transaction status as 'released'</h2>
<pre>releaseTransaction(integer $tId) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
</div></div>
</div>
<a id="method_update"></a><div class="element clickable method public method_update inherited" data-toggle="collapse" data-target=".method_update .collapse" title="public">
<h2>Update/set SKU in cart</h2>
<pre>update(integer $sId, integer $qty<code> = 1</code>, boolean $retainOldValue<code> = false</code>) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Quantity</p></div>
<div class="subelement argument">
<h4>$retainOldValue</h4>
<code>boolean</code><p>Retain old value</p></div>
</div></div>
</div>
<a id="method_updateTransactionItem"></a><div class="element clickable method public method_updateTransactionItem inherited" data-toggle="collapse" data-target=".method_updateTransactionItem .collapse" title="public">
<h2>Complete the transaction, mark it as completed, done, success.</h2>
<pre>updateTransactionItem(integer $tId, array $item) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>..</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<div class="subelement argument">
<h4>$item</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_updateTransactionStatus"></a><div class="element clickable method public method_updateTransactionStatus inherited" data-toggle="collapse" data-target=".method_updateTransactionStatus .collapse" title="public">
<h2>Update transaction status</h2>
<pre>updateTransactionStatus(string $status, integer $tId) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$status</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Success or failure</div>
</div></div>
</div>
<a id="method_verifySecurityToken"></a><div class="element clickable method public method_verifySecurityToken inherited" data-toggle="collapse" data-target=".method_verifySecurityToken .collapse" title="public">
<h2>Verify security token</h2>
<pre>verifySecurityToken(string $token, integer $tId) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$token</h4>
<code>string</code><p>string token</p></div>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_cartIsLinked"></a><div class="element clickable method protected method_cartIsLinked inherited" data-toggle="collapse" data-target=".method_cartIsLinked .collapse" title="protected">
<h2>Check if cart is linked to any member's ID</h2>
<pre>cartIsLinked(integer $crtId) : boolean</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>Cart ID</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_doItem"></a><div class="element clickable method protected method_doItem inherited" data-toggle="collapse" data-target=".method_doItem .collapse" title="protected">
<h2>Update/add SKU/quantity to cart, update the price in the cart, save old price and inventory level (if requested)</h2>
<pre>doItem(integer $sId, string $mode<code> = 'add'</code>, integer $qty<code> = 1</code>, boolean $retainOldValue<code> = false</code>) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$mode</h4>
<code>string</code><p>Update Method:  add - adds to the existing quantity,
set - ignores existing quantity and sets a new value,
sync - simply checks/updates inventory and pricing</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Quantity</p></div>
<div class="subelement argument">
<h4>$retainOldValue</h4>
<code>boolean</code><p>Flag determining whether the old qty should be saved (only when it goes down);
price get saved in either case</p></div>
</div></div>
</div>
<a id="method_exists"></a><div class="element clickable method protected method_exists inherited" data-toggle="collapse" data-target=".method_exists .collapse" title="protected">
<h2>Check if the cart exists.</h2>
<pre>exists() : boolean</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_getCartItem"></a><div class="element clickable method protected method_getCartItem inherited" data-toggle="collapse" data-target=".method_getCartItem .collapse" title="protected">
<h2>Get a single item in the cart</h2>
<pre>getCartItem(integer $sId) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>SKU cart info</div>
</div></div>
</div>
<a id="method_getCartItems"></a><div class="element clickable method protected method_getCartItems inherited" data-toggle="collapse" data-target=".method_getCartItems .collapse" title="protected">
<h2>Get cart items from the database</h2>
<pre>getCartItems() : object</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>object</code>Object with two elements: array of SKU info in the cart and array of SKU IDs in the cart</div>
</div></div>
</div>
<a id="method_getUserCartId"></a><div class="element clickable method protected method_getUserCartId inherited" data-toggle="collapse" data-target=".method_getUserCartId .collapse" title="protected">
<h2>Check if user's cart exists and return its ID</h2>
<pre>getUserCartId(integer $uId) : mixed</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$uId</h4>
<code>integer</code><p>User ID</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>Cart ID, false if no user cart exists</div>
</div></div>
</div>
<a id="method_kill"></a><div class="element clickable method protected method_kill inherited" data-toggle="collapse" data-target=".method_kill .collapse" title="protected">
<h2>Delete cart and all cart items</h2>
<pre>kill(integer $crtId) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>Cart ID</p></div>
</div></div>
</div>
<a id="method_killTransaction"></a><div class="element clickable method protected method_killTransaction inherited" data-toggle="collapse" data-target=".method_killTransaction .collapse" title="protected">
<h2>Kill transaction</h2>
<pre>killTransaction(integer $tId) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>transaction ID to kill</p></div>
</div></div>
</div>
<a id="method_markItemUnavailable"></a><div class="element clickable method protected method_markItemUnavailable inherited" data-toggle="collapse" data-target=".method_markItemUnavailable .collapse" title="protected">
<h2>Update cart SKU, set as unavailable (if SKU or product get deleted or become unavailable)</h2>
<pre>markItemUnavailable(integer $sId) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
</div></div>
</div>
<a id="method_removeItem"></a><div class="element clickable method protected method_removeItem inherited" data-toggle="collapse" data-target=".method_removeItem .collapse" title="protected">
<h2>Remove given quantity of SKU from cart</h2>
<pre>removeItem(integer $sId, integer $qty, integer $crtId) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
<div class="subelement argument">
<h4>$qty</h4>
<code>integer</code><p>Qty</p></div>
<div class="subelement argument">
<h4>$crtId</h4>
<code>integer</code><p>Cart ID</p></div>
</div></div>
</div>
<a id="method_deleteItem"></a><div class="element clickable method private method_deleteItem inherited" data-toggle="collapse" data-target=".method_deleteItem .collapse" title="private">
<h2>Delete SKU from cart</h2>
<pre>deleteItem(integer $sId) : void</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sId</h4>
<code>integer</code><p>SKU ID</p></div>
</div></div>
</div>
<a id="method_removeTransactionCouponsFromCart"></a><div class="element clickable method private method_removeTransactionCouponsFromCart inherited" data-toggle="collapse" data-target=".method_removeTransactionCouponsFromCart .collapse" title="private">
<h2>Remove transaction coupons from the cart associated with it</h2>
<pre>removeTransactionCouponsFromCart(object $tInfo) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tInfo</h4>
<code>object</code><p>transaction info</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<a id="method_removeTransactionItemsFromCart"></a><div class="element clickable method private method_removeTransactionItemsFromCart inherited" data-toggle="collapse" data-target=".method_removeTransactionItemsFromCart .collapse" title="private">
<h2>Remove transaction items from the cart associated with it</h2>
<pre>removeTransactionItemsFromCart(object $tInfo) : void</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tInfo</h4>
<code>object</code><p>transaction info</p></div>
</div></div>
</div>
<a id="method_setTransactionItems"></a><div class="element clickable method private method_setTransactionItems inherited" data-toggle="collapse" data-target=".method_setTransactionItems .collapse" title="private">
<h2>Set transaction items</h2>
<pre>setTransactionItems(integer $tId, \Components\Cart\Models\obj $items) : boolean</pre>
<div class="labels">
<span class="label">Inherited</span><span class="label">Static</span>
</div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tId</h4>
<code>integer</code><p>Transaction ID</p></div>
<div class="subelement argument">
<h4>$items</h4>
<code>\Components\Cart\Models\obj</code><p>Items</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>boolean</code></div>
</div></div>
</div>
<h3>
<i title="Properties" class="icon-custom icon-property"></i> Properties</h3>
<a id="property_crtId"> </a><div class="element clickable property public property_crtId" data-toggle="collapse" data-target=".property_crtId .collapse" title="public">
<h2>Cart ID</h2>
<pre>$crtId : integer</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_db"> </a><div class="element clickable property public property_db" data-toggle="collapse" data-target=".property_db .collapse" title="public">
<h2>Database instance</h2>
<pre>$db : object</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_debug"> </a><div class="element clickable property public property_debug" data-toggle="collapse" data-target=".property_debug .collapse" title="public">
<h2>Debug mode</h2>
<pre>$debug : boolean</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>false</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_securitySalt"> </a><div class="element clickable property protected property_securitySalt" data-toggle="collapse" data-target=".property_securitySalt .collapse" title="protected">
<h2>Salt</h2>
<pre>$securitySalt : string</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>'ERDCVcvk$sad!ccsso====++!w'</code></div>
</div></div>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12" style="text-align: center;">
			Created by <a href="https://wei170.github.io">Guocheng Wei</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.8.5</a> and<br>
            generated on 2017-05-22T16:39:50-04:00.<br></footer></div>
</div>
</body>
</html>
